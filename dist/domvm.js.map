{"version":3,"file":null,"sources":["../src/view/VTYPE.js","../src/utils.js","../src/view/utils.js","../src/view/attrs.js","../src/view/hydrate.js","../src/view/syncChildren.js","../src/view/VNode.js","../src/view/VNodeFixed.js","../src/view/defineElement.js","../src/view/patch.js","../src/view/preProc.js","../src/view/ViewModel.js","../src/view/createView.js","../src/view/defineText.js","../src/view/defineComment.js","../src/view/VView.js","../src/view/defineView.js","../src/view/VModel.js","../src/view/injectView.js","../src/view/injectElement.js","../src/view/defineElementFixed.js","../src/view/html.js"],"sourcesContent":["export const VTYPE = {\n\tELEMENT:\t1,\n\tTEXT:\t\t2,\n\tCOMMENT:\t3,\n\t// placeholder nodes\n\tVVIEW:\t\t4,\n\tVMODEL:\t\t5,\n};","const ENV_DOM = typeof HTMLElement == \"function\";\n\nexport const emptyObj = {};\n\nexport function isUndef(val) {\n\treturn typeof val == \"undefined\";\n}\n\nexport function isArr(val) {\n\treturn Array.isArray(val);\n}\n\nexport function isObj(val) {\n\treturn val != null && typeof val == \"object\" && !isArr(val);\n}\n\nexport function insertArr(targ, arr, pos, rem) {\n\ttarg.splice.apply(targ, [pos, rem].concat(arr));\n}\n\nexport function isVal(val) {\n\tvar t = typeof val;\n\treturn t === \"string\" || t === \"number\";\n}\n\nexport function isFunc(val) {\n\treturn typeof val === \"function\";\n}\n\nexport function isProm(val) {\n\treturn typeof val === \"object\" && isFunc(val.then);\n}\n\nexport function isElem(val) {\n\treturn ENV_DOM && val instanceof HTMLElement;\n}\n\nexport function assignObj(targ) {\n\tvar args = arguments;\n\n\tfor (var i = 1; i < args.length; i++)\n\t\tfor (var k in args[i])\n\t\t\ttarg[k] = args[i][k];\n\n\treturn targ;\n}\n\n/*\nexport function cmpArr(a, b) {\n\tconst alen = a.length;\n\n\tif (b.length != alen)\n\t\treturn false;\n\n\tfor (var i = 0; i < alen; i++)\n\t\tif (a[i] !== b[i])\n\t\t\treturn false;\n\n\treturn true;\n}\n*/","const t = true;\n\nconst unitlessProps = {\n\tanimationIterationCount: t,\n\tboxFlex: t,\n\tboxFlexGroup: t,\n\tcolumnCount: t,\n\tcounterIncrement: t,\n\tfillOpacity: t,\n\tflex: t,\n\tflexGrow: t,\n\tflexOrder: t,\n\tflexPositive: t,\n\tflexShrink: t,\n\tfloat: t,\n\tfontWeight: t,\n\tgridColumn: t,\n\tlineHeight: t,\n\tlineClamp: t,\n\topacity: t,\n\torder: t,\n\torphans: t,\n\tstopOpacity: t,\n\tstrokeDashoffset: t,\n\tstrokeOpacity: t,\n\tstrokeWidth: t,\n\ttabSize: t,\n\ttransform: t,\n\ttransformOrigin: t,\n\twidows: t,\n\tzIndex: t,\n\tzoom: t,\n};\n\nexport function autoPx(name, val) {\n\treturn !isNaN(val) && !unitlessProps[name] ? (val + \"px\") : val;\n}\n\nexport function camelDash(val) {\n\treturn val.replace(/([a-z])([A-Z])/g, '$1-$2').toLowerCase();\n}\n\nexport function styleStr(css) {\n\tvar style = \"\";\n\n\tfor (var pname in css) {\n\t\tif (css[pname] !== null)\n\t\t\tstyle += camelDash(pname) + \": \" + autoPx(pname, css[pname]) + '; ';\n\t}\n\n\treturn style;\n}\n\nexport function isEvProp(name) {\n\treturn name[0] == \"o\" && name[1] == \"n\";\n}\n\nexport function isSplProp(name) {\n\treturn name[0] == \"_\";\n}\n\nexport function isStyleProp(name) {\n\treturn name == \"style\";\n}","export function remAttr(node, name) {\n\tnode._el.removeAttribute(name);\n}\n\n// setAttr\n// diff, \".\", \"on*\", bool vals, skip _*, value/checked/selected selectedIndex\nexport function setAttr(node, name, val) {\n\tvar el = node._el;\n\n\tif (val == null)\n\t\tremAttr(node, name);\t\t// will also removeAttr of style: null\n\telse if (name == \"class\")\n\t\tel.className = val;\n\telse if (name == \"id\")\n\t\tel.id = val;\n\telse if (name[0] == \".\")\n\t\tel[name.substr(1)] = val;\n\t// todo: diff style? bench individual prop style setting, vs cssText\n\telse if (typeof val == \"boolean\")\t\t// name === \"type\" ||\n\t\tel[name] = val;\n\telse\n\t\tel.setAttribute(name, val);\n}","import { VTYPE } from './VTYPE';\nimport { isArr, isFunc } from '../utils';\nimport { isStyleProp, isSplProp, isEvProp } from './utils';\nimport { setAttr } from './attrs';\nimport { patchStyle, patchEvent } from './patch';\nimport { views, createView } from './createView';\n\n/*\nimport { patchAttrs2 } from './patch';\nimport { VNode } from './VNode';\nconst fakeDonor = new VNode(VTYPE.ELEMENT);\nfakeDonor._attrs = {};\n*/\n\n// TODO: DRY this out. reusing normal patchAttrs here negatively affects V8's JIT\nfunction patchAttrs2(vnode) {\n\tvar nattrs = vnode._attrs;\n\n\tfor (var key in nattrs) {\n\t\tvar nval = nattrs[key];\n\n\t\tif (isStyleProp(key))\n\t\t\tpatchStyle(vnode);\n\t\telse if (isSplProp(key)) {}\n\t\telse if (isEvProp(key))\n\t\t\tpatchEvent(vnode, key.substr(2), null, nval);\n\t\telse if (nval != null)\n\t\t\tsetAttr(vnode, key, nval);\n\t}\n}\n\n//  TODO: DRY this out. reusing normal patch here negatively affects V8's JIT\nexport function hydrate(vnode, withEl) {\n\tif (vnode._el == null) {\n\t\tif (vnode._type === VTYPE.ELEMENT) {\n\t\t\tvnode._el = withEl || document.createElement(vnode._tag);\n\n\t\t\tif (vnode._attrs)\n\t\t\t\tpatchAttrs2(vnode);\n\n\t\t\tif (isArr(vnode._body)) {\n\t\t\t\tvnode._body.forEach((vnode2, i) => {\n\t\t\t\t\tif (vnode2._type == VTYPE.VMODEL) {\n\t\t\t\t\t\tvar vm = views[vnode2._vmid];\n\t\t\t\t\t\tvm._redraw(vnode, i);\n\t\t\t\t\t\tvnode._el.insertBefore(vm._node._el, null)\n\t\t\t\t\t}\n\t\t\t\t\telse if (vnode2._type == VTYPE.VVIEW) {\n\t\t\t\t\t\tvar vm = createView(vnode2._view, vnode2._model, vnode2._key, vnode2._opts)._redraw(vnode, i);\t\t// todo: handle new model updates\n\t\t\t\t\t\tvnode._el.insertBefore(vm._node._el, null)\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t\tvnode._el.insertBefore(hydrate(vnode2), null);\t\t// vnode._el.appendChild(hydrate(vnode2))\n\t\t\t\t})\n\t\t\t}\n\t\t\telse if (vnode._body != null && vnode._body !== \"\") {\n\t\t\t\tif (vnode._html)\n\t\t\t\t\tvnode._el.innerHTML = vnode._body;\n\t\t\t\telse\n\t\t\t\t\tvnode._el.textContent = vnode._body;\n\t\t\t}\n\t\t}\n\t\telse if (vnode._type === VTYPE.TEXT)\n\t\t\tvnode._el = withEl || document.createTextNode(vnode._body);\n\t}\n\n\tvnode._el._node = vnode;\n\n\treturn vnode._el;\n}","import { hydrate } from './hydrate';\nimport { isArr } from '../utils';\n//import { DEBUG } from './DEBUG';\n\nfunction nextNode(node, body) {\n\treturn body[node._idx + 1];\n}\n\nfunction prevNode(node, body) {\n\treturn body[node._idx - 1];\n}\n\n// ? removes if !recycled\nfunction nextSib(sib) {\n\treturn sib.nextSibling;\n}\n\n// ? removes if !recycled\nfunction prevSib(sib) {\n\treturn sib.previousSibling;\n}\n\n// todo: hooks\nfunction removeChild(parEl, el) {\n\tparEl.removeChild(el);\n}\n\n// todo: hooks\nfunction insertBefore(parEl, el, refEl) {\n\tparEl.insertBefore(el, refEl);\n}\n\nfunction insertAfter(parEl, el, refEl) {\n\tinsertBefore(parEl, el, refEl ? nextSib(refEl) : null);\n}\n\n// dehydrate can return promise (from hook), to delay removal\n// todo: hooks\nfunction dehydrate(node) {\n\tif (isArr(node._body)) {\n\t\tvar parEl = node._el;\n\t\tfor (var i = 0; i < node._body.length; i++)\n\t\t\tremoveChild(parEl, dehydrate(node._body[i]));\n\t}\n\n\treturn node._el;\n}\n\nfunction tmpEdges(fn, parEl, lftSib, rgtSib) {\n\t// get outer immute edges\n\tvar lftLft = prevSib(lftSib);\n\tvar rgtRgt = nextSib(rgtSib);\n\n\tfn(lftLft, rgtRgt);\n\n\treturn {\n\t\tlftSib: lftLft ? nextSib(lftLft) : parEl.firstChild,\n\t\trgtSib: rgtRgt ? prevSib(rgtRgt) : parEl.lastChild,\n\t};\n}\n\nfunction headTailTry(parEl, lftSib, lftNode, rgtSib, rgtNode) {\n//\tDEBUG && console.log(\"try head/tail magic\");\n\n\tvar areAdjacent\t= rgtNode._idx === lftNode._idx + 1;\n\tvar headToTail = areAdjacent ? false : lftSib._node === rgtNode;\n\tvar tailToHead = areAdjacent ? true  : rgtSib._node === lftNode;\n\n\tif (headToTail || tailToHead) {\n\t\treturn tmpEdges(function(lftLft, rgtRgt) {\n\t\t\tif (tailToHead)\n\t\t\t\tinsertBefore(parEl, rgtSib, lftSib);\n\n\t\t\tif (headToTail)\n\t\t\t\tinsertBefore(parEl, lftSib, rgtRgt);\n\t\t}, parEl, lftSib, rgtSib);\n\t}\n\n\treturn null;\n}\n\n// init vm,\n\n// selection sort of DOM (cause move cost >> cmp cost)\n// todo: skip removed\nfunction sortDOM(parEl, lftSib, rgtSib, cmpFn) {\n//\tDEBUG && console.log(\"selection sort!\");\n\n\treturn tmpEdges(function(lftLft, rgtRgt) {\n\t\tvar min = null;\n\n\t\tfor (var i = lftSib; i !== rgtRgt; i = nextSib(i)) {\n\t\t\tlftSib = min = i;\n\n\t\t\tfor (var j = nextSib(i); j !== rgtRgt; j = nextSib(j)) {\n\t\t\t\tif (cmpFn(min, j) > 0)\n\t\t\t\t\tmin = j;\n\t\t\t}\n\n\t\t\tif (min === i)\n\t\t\t\tcontinue;\n\n\t\t\tinsertBefore(parEl, min, lftSib);\n\n\t\t\ti = min;\n\t\t}\n\t}, parEl, lftSib, rgtSib);\n}\n\nfunction cmpElNodeIdx(a, b) {\n\treturn a._node._idx - b._node._idx;\n}\n\nexport function syncChildren(node, parEl) {\n\tvar body = node._body;\n\t// breaking condition is convergance\n\n\tvar lftNode\t\t= body[0],\n\t\tlftSib\t\t= parEl.firstChild,\n\t\trgtNode\t\t= body[body.length - 1],\n\t\trgtSib\t\t= parEl.lastChild,\n\t\tnewSibs\t\t= null;\n\n\tvar tmpSib = null;\n\n\tif (lftSib == null) {\n\t\tbody.forEach(node2 => parEl.appendChild(hydrate(node2)));\n\t\treturn;\n\t}\n\telse if (lftNode == null) {\n//\t\tDEBUG && console.log(\"todo: full dehydrate\");\n\t}\n\n\tconverge:\n\twhile (1) {\n//\t\tDEBUG && console.log(\"from_left\");\n\t\tfrom_left:\n\t\twhile (1) {\n\t\t\t// remove any non-recycled sibs whose el._node has the old parent\n\t\t\tif (lftSib && !lftSib._node._recycled && lftSib._node._parent != parEl._node) {\n\t\t\t\ttmpSib = nextSib(lftSib);\n\t\t\t\tremoveChild(parEl, dehydrate(lftSib._node));\n\t\t\t\tlftSib = tmpSib;\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif (lftNode == null)\t\t// reached end\n\t\t\t\tbreak converge;\n\t\t\telse if (lftNode._el == null) {\n\t\t\t\tinsertBefore(parEl, hydrate(lftNode), lftSib);\n\t\t\t\tlftNode = nextNode(lftNode, body);\n\t\t\t}\n\t\t\telse if (lftNode._el === lftSib) {\n\t\t\t\tlftNode = nextNode(lftNode, body);\n\t\t\t\tlftSib = nextSib(lftSib);\n\t\t\t}\n\t\t\telse\n\t\t\t\tbreak;\n\t\t}\n\n//\t\tDEBUG && console.log(\"from_right\");\n\t\tfrom_right:\n\t\twhile(1) {\n\t\t\tif (rgtSib && !rgtSib._node._recycled && rgtSib._node._parent != parEl._node) {\n\t\t\t\ttmpSib = prevSib(rgtSib);\n\t\t\t\tremoveChild(parEl, dehydrate(rgtSib._node));\n\t\t\t\trgtSib = tmpSib;\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif (rgtNode == lftNode)\t\t// converged\n\t\t\t\tbreak converge;\n\t\t\tif (rgtNode._el == null) {\n\t\t\t\tinsertAfter(parEl, hydrate(rgtNode), rgtSib);\n\t\t\t\trgtNode = prevNode(rgtNode, body);\n\t\t\t}\n\t\t\telse if (rgtNode._el === rgtSib) {\n\t\t\t\trgtNode = prevNode(rgtNode, body);\n\t\t\t\trgtSib = prevSib(rgtSib);\n\t\t\t}\n\t\t\telse\n\t\t\t\tbreak;\n\t\t}\n\n\t\tif (newSibs = headTailTry(parEl, lftSib, lftNode, rgtSib, rgtNode)) {\n\t\t\tlftSib = newSibs.lftSib;\n\t\t\trgtSib = newSibs.rgtSib;\n\t\t\tcontinue;\n\t\t}\n\n\t\tnewSibs = sortDOM(parEl, lftSib, rgtSib, cmpElNodeIdx);\n\t\tlftSib = newSibs.lftSib;\n\t\trgtSib = newSibs.rgtSib;\n\t}\n}","import { views } from './createView';\n\nexport function VNode(type) {\n\tthis._type = type;\n}\n\nVNode.prototype = {\n\tconstructor: VNode,\n\n\t_type:\tnull,\n\n\tget _vm() {\n\t\tvar n = this;\n\t\twhile (n._vmid == null)\n\t\t\tn = n._parent;\n\t\treturn views[n._vmid];\n\t},\n\n\t_vmid:\tnull,\n\n\t// all this stuff can just live in attrs (as defined) just have getters here for it\n\t_key:\tnull,\n\t_ref:\tnull,\n\t_data:\tnull,\n\t_hooks:\tnull,\n\t_html:\tfalse,\n\n\t_el:\tnull,\n\n\t_tag:\tnull,\n\t_attrs:\tnull,\n\t_body:\tnull,\n\t_fixed: false,\n\n\t_class:\tnull,\n\n\t_idx:\tnull,\n\t_parent:null,\n\n\t// transient flags maintained for cleanup passes, delayed hooks, etc\n\t_recycled:\t\tfalse,\t\t// true when findDonor/graft pass is done\n\t_wasSame:\t\tfalse,\t\t// true if _diff result was false\n\t_delayedRemove:\tfalse,\t\t// true when willRemove hook returns a promise\n\n//\t_setTag: function() {},\n\n\t// break out into optional fluent module\n\tkey:\tfunction(val) { this._key\t= val; return this; },\n\tref:\tfunction(val) { this._ref\t= val; return this; },\t\t// deep refs\n\tdata:\tfunction(val) { this._data\t= val; return this; },\n\thooks:\tfunction(val) { this._hooks\t= val; return this; },\t\t// h(\"div\")._hooks()\n\thtml:\tfunction(val) { this._html\t= true; return this.body(val); },\n\n\tbody:\tfunction(val) { this._body\t= val; return this; },\n};","import { VNode } from './VNode';\n\nexport function VNodeFixed(type) {\n\tVNode.call(this, type);\n}\n\nconst proto = Object.create(VNode.prototype);\nproto.constructor = VNodeFixed;\nproto._fixed = true;\n\nVNodeFixed.prototype = proto;","import { VTYPE } from './VTYPE';\nimport { VNode } from './VNode';\nimport { VNodeFixed } from './VNodeFixed';\nimport { isObj, isUndef } from '../utils';\n\nexport function defineElement(tag, arg1, arg2, fixed) {\n\tvar node = fixed ? new VNodeFixed(VTYPE.ELEMENT) : new VNode(VTYPE.ELEMENT);\n\n\tvar attrs, body;\n\n\tif (isUndef(arg2)) {\n\t\tif (isObj(arg1))\n\t\t\tattrs = arg1;\n\t\telse\n\t\t\tbody = arg1;\n\t}\n\telse {\n\t\tattrs = arg1;\n\t\tbody = arg2;\n\t}\n\n\tif (attrs != null) {\n\t\tif (attrs._key != null)\n\t\t\tnode._key = attrs._key;\n\n\t\tif (attrs._ref != null)\n\t\t\tnode._ref = attrs._ref;\n\n\t\tif (attrs._hooks != null)\n\t\t\tnode._hooks = attrs._hooks;\n\n\t\tif (attrs._html != null)\n\t\t\tnode._html = attrs._html;\n\n\t\tif (attrs._data != null)\n\t\t\tnode._data = attrs._data;\n\n\t\tnode._attrs = attrs;\n\t}\n\n\tvar parsed = parseTag(tag);\n\n\tnode._tag = parsed.tag;\n\n\tif (parsed.id || parsed.class || parsed.attrs) {\n\t\tvar p = node._attrs || {};\n\n\t\tif (parsed.id && p.id == null)\n\t\t\tp.id = parsed.id;\n\n\t\tif (parsed.class) {\n\t\t\tnode._class = parsed.class;\t\t// static class\n\t\t\tp.class = parsed.class + (p.class != null ? (\" \" + p.class) : \"\");\n\t\t}\n\t\tif (parsed.attrs) {\n\t\t\tfor (var key in parsed.attrs)\n\t\t\t\tif (p[key] == null)\n\t\t\t\t\tp[key] = parsed.attrs[key];\n\t\t}\n\n//\t\tif (node._attrs != p)\n\t\t\tnode._attrs = p;\n\t}\n\n\tif (body != null)\n\t\tnode._body = body;\n\n\treturn node;\n}\n\n\n//\tfunction VTag() {}\n\nconst tagCache = {};\n\nconst RE_ATTRS = /\\[(\\w+)(?:=(\\w+))?\\]/g;\n\nfunction parseTag(raw) {\n\tvar cached = tagCache[raw];\n\n\tif (cached == null) {\n\t\tvar tag, id, cls, attr;\n\n\t\ttagCache[raw] = cached = {\n\t\t\ttag:\t(tag\t= raw.match( /^[-\\w]+/))\t\t?\ttag[0]\t\t\t\t\t\t: \"div\",\n\t\t\tid:\t\t(id\t\t= raw.match( /#([-\\w]+)/))\t\t? \tid[1]\t\t\t\t\t\t: null,\n\t\t\tclass:\t(cls\t= raw.match(/\\.([-\\w.]+)/))\t\t?\tcls[1].replace(/\\./g, \" \")\t: null,\n\t\t\tattrs:\tnull,\n\t\t};\n\n\t\twhile (attr = RE_ATTRS.exec(raw)) {\n\t\t\tif (cached.attrs == null)\n\t\t\t\tcached.attrs = {};\n\t\t\tcached.attrs[attr[1]] = attr[2] || \"\";\n\t\t}\n\t}\n\n\treturn cached;\n}","import { VTYPE } from './VTYPE';\nimport { isArr, isVal, isFunc, isObj, assignObj } from '../utils';\nimport { autoPx, isStyleProp, isSplProp, isEvProp } from './utils';\nimport { syncChildren } from './syncChildren';\nimport { setAttr, remAttr } from './attrs';\nimport { views, createView } from './createView';\nimport { defineElement } from './defineElement';\n\n//import { DEBUG } from './DEBUG';\n\n\n// newNode can be either {class: style: } or full new VNode\nexport function patchNode(o, n) {\n\tif (n._type != null) {\n\t\t// full new node\n\t}\n\telse {\n\t\t// shallow-clone target\n\t\tvar donor = Object.create(o);\n\t\t// fixate orig attrs\n\t\tdonor._attrs = assignObj({}, o._attrs);\n\t\t// assign new attrs into live targ node\n\t\tassignObj(o._attrs, donor._attrs, n);\n\t\t// prepend any fixed shorthand class\n\t\tif (o._class != null) {\n\t\t\tvar aclass = o._attrs.class;\n\n\t\t\tif (aclass != null)\n\t\t\t\to._attrs.class = o._class + \" \" + aclass;\n\t\t\telse\n\t\t\t\to._attrs.class = o._class;\n\t\t}\n\n\t\tpatchAttrs(o, donor);\n\t}\n}\n\nfunction findDonorNode(n, nPar, oPar, fromIdx, toIdx) {\t\t// pre-tested isView?\n\tvar oldBody = oPar._body;\n\n\tfor (var i = fromIdx || 0; i < oldBody.length; i++) {\n\t\tvar o = oldBody[i];\n\n\t\tif (n._type == VTYPE.VVIEW && o._vmid != null) {\t\t\t// also ignore recycled/moved?\n\t\t\tvar ov = views[o._vmid];\n\n\t\t\t// match by key & viewFn\n\t\t\tif (ov._view == n._view && ov._key == n._key)\n\t\t\t\treturn o;\n\t\t}\n\n\t\tif (o._recycled || n._tag !== o._tag || n._type !== o._type)\n\t\t\tcontinue;\n\n\t\t// if n._view\n\n\t\tif (n._key === o._key)\t\t// accounts for matching & both null\n\t\t\treturn o;\n\t\telse {\n\t\t\t//\n\t\t\tif (o._key == null) {\n\t\t\t\treturn o;\n\t\t\t}\n\t\t\t// n.key && o.key, ident?\n\t\t\telse {\n\t\t\t//\tconsole.log(n._key, o._key);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn null;\n}\n\nfunction bindEv(el, type, fn) {\n//\tDEBUG && console.log(\"addEventListener\");\n\tel.addEventListener(type, fn);\n}\n\nfunction unbindEv(el, type, fn) {\n//\tDEBUG && console.log(\"removeEventListener\");\n\tel.removeEventListener(type, fn);\n}\n\n// assumes if styles exist both are objects or both are strings\nexport function patchStyle(n, o) {\n\tvar ns = n._attrs.style;\n\tvar os = o ? o._attrs.style : null;\t\t// || emptyObj?\n\n\t// replace or remove in full\n\tif (ns == null || isVal(ns))\n\t\tn._el.style.cssText = ns;\n\telse {\n\t\tfor (var nn in ns) {\n\t\t\tvar nv = ns[nn];\n\t\t\tif (os == null || nv != null && nv !== os[nn])\n\t\t\t\tn._el.style[nn] = autoPx(nn, nv);\n\t\t}\n\n\t\t// clean old\n\t\tif (os) {\n\t\t\tfor (var on in os) {\n\t\t\t\tif (ns[on] == null)\n\t\t\t\t\tn._el.style[on] = null;\n\t\t\t}\n\t\t}\n\t}\n}\n\nexport function wrapHandler(fn, args, sel) {\n\tfunction wrap(e) {\n\t\tvar el = e.target;\n\t\tvar node = el._node;\n\n\t\tif (sel && !e.target.matches(sel))\n\t\t\treturn;\n\n\t\tvar out = fn.apply(null, fn._args.concat(e, node, node._vm));\n\n\t\tif (out === false) {\n\t\t\te.preventDefault();\n\t\t\te.stopPropagation();\n\t\t}\n\t}\n\n\t// for external diffing\n\tfn._wrap = wrap;\n\tfn._args = args || [];\n\n\treturn wrap;\n}\n\nexport function patchEvent(node, name, sel, nval, oval) {\n\tvar el = node._el;\n\n\t// param'd eg onclick: [myFn, 1, 2, 3...]\n\tif (isArr(nval)) {\n\t\tvar newArgs = nval.slice(1);\n\t\tnval = nval[0];\n\t}\n\n\tif (isArr(oval))\n\t\toval = oval[0];\n\n\t// basic onclick: myFn (or extracted)\n\tif (isFunc(nval)) {\n\t\tif (nval != oval) {\n\t\t\tbindEv(el, name, wrapHandler(nval, newArgs, sel));\n\t\t\toval && unbindEv(el, name, oval._wrap);\n\t\t}\n\t\telse\n\t\t\tnval._args = newArgs || [];\n\t}\n\t// delegated onclick: {\".sel\": myFn} & onclick: {\".sel\": [myFn, 1, 2, 3]}\n\telse {\t\t// isObj\n\t\tfor (var sel2 in nval) {\n\t\t\tvar nval2 = nval[sel2];\n\t\t\tvar oval2 = oval ? oval[sel2] : null;\n\n\t\t\tpatchEvent(node, name, sel2, nval2, oval2);\n\t\t}\n\t}\n}\n\nexport function patchAttrs(vnode, donor) {\n\tconst nattrs = vnode._attrs;\t\t// || emptyObj\n\tconst oattrs = donor._attrs;\t\t// || emptyObj\n\n\t// if vals identical, do nothing.\n\n\t// TODO: do real prop diff\n\n\t// TODO: cmp spl props\n\tfor (var key in nattrs) {\n\t\tvar nval = nattrs[key];\n\t\tvar oval = oattrs[key];\n\n\t\tif (nval === oval) {}\n\t\telse if (isStyleProp(key))\n\t\t\tpatchStyle(vnode, donor);\n\t\telse if (isSplProp(key)) {}\n\t\telse if (isEvProp(key))\n\t\t\tpatchEvent(vnode, key.substr(2), null, nval, oval);\n\t\telse\n\t\t\tsetAttr(vnode, key, nattrs[key]);\n\t}\n\n\tfor (var key in oattrs) {\n\t//\tif (nattrs[key] == null &&\n\t\tif (!(key in nattrs) &&\n\t\t\t!isStyleProp(key) &&\n\t\t\t!isSplProp(key) &&\n\t\t\t!isEvProp(key)\n\t\t)\n\t\t\tremAttr(vnode, key);\n\t}\n}\n\n// have it handle initial hydrate? !donor?\n// types (and tags if ELEM) are assumed the same, and donor exists\nexport function patch(vnode, donor) {\n\t// graft node\n\n\tvnode._el = donor._el;\n\tdonor._recycled = true;\n\n\tvnode._el._node = vnode;\n\n\t// \"\" => \"\"\n\tif (vnode._type === VTYPE.TEXT && vnode._body !== donor._body) {\n\t\tvnode._el.nodeValue = vnode._body;\n\t\treturn;\n\t}\n\n\t// BUG: donation would break:\n\t// relies on both being present?\n\t// div (with attrs) <-> div (no attrs)\n\tif (vnode._attrs || donor._attrs)\n\t\tpatchAttrs(vnode, donor);\n\n\t// patch events\n\n\tvar oldIsArr = isArr(donor._body);\n\tvar newIsArr = isArr(vnode._body);\n\n//\tvar nonEqNewBody = vnode._body != null && vnode._body !== donor._body;\n\n\tif (oldIsArr) {\n\t\t// [] => []\n\t\tif (newIsArr) {\n\t\t//\tconsole.log('[] => []', donor._body, vnode._body);\n\t\t\t// graft children\n\t\t\tpatchChildren(vnode, donor);\n\t\t}\n\t\t// [] => \"\" | null\n\t\telse if (vnode._body !== donor._body) {\n\t\t\t// needs cleanup pass?\n\t\t//\tconsole.log('[] => \"\"', donor._body, vnode._body);\n\n\t\t\tif (vnode._body != null)\n\t\t\t\tvnode._el.textContent = vnode._body;\n\t\t\telse {\n\t\t\t\twhile (vnode._el.firstChild)\n\t\t\t\t\tvnode._el.removeChild(vnode._el.firstChild);\n\t\t\t}\n\t\t}\n\t}\n\telse {\n\t\t// \"\" | null => []\n\t\tif (newIsArr) {\n\t\t//\tconsole.log('\"\" => []', donor._body, vnode._body);\t// hydrate new here?\n\t\t\twhile (vnode._el.firstChild)\n\t\t\t\tvnode._el.removeChild(vnode._el.firstChild);\n\t\t\tpatchChildren(vnode, donor);\n\t\t}\n\t\t// \"\" | null => \"\" | null\n\t\telse if (vnode._body !== donor._body) {\n\t\t//\tconsole.log('\"\" => \"\"', donor, vnode);\n\n\t\t\tif (vnode._el.firstChild)\n\t\t\t\tvnode._el.firstChild.nodeValue = vnode._body;\n\t\t\telse\n\t\t\t\tvnode._el.textContent = vnode._body;\n\t\t}\n\t}\n}\n\n// [] => []\nfunction patchChildren(vnode, donor) {\n\t// first unrecycled node (search head)\n\tvar fromIdx = 0;\n\n\tvar donor2;\n\n\tfor (var i = 0; i < vnode._body.length; i++) {\n\t\tvar node2 = vnode._body[i];\n\n\t\tif (node2._type == VTYPE.VVIEW) {\n\t\t\tif (donor2 = findDonorNode(node2, vnode, donor, fromIdx))\t\t// update/moveTo\n\t\t\t\tviews[donor2._vmid]._update(node2._model, vnode, i);\t\t// withDOM\n\t\t\telse\n\t\t\t\tcreateView(node2._view, node2._model, node2._key, node2._opts)._redraw(vnode, i, false);\t// createView, no dom (will be handled by sync below)\n\t\t}\n\t\telse if (node2._type == VTYPE.VMODEL)\n\t\t\tviews[node2._vmid]._update(node2._model, vnode, i);\n\t\telse {\n\t\t\tif (donor2 = findDonorNode(node2, vnode, donor, fromIdx))\n\t\t\t\tpatch(node2, donor2);\n\t\t}\n\n\t\t// to keep search space small, if donation is non-contig, move node fwd?\n\t\t// re-establish contigindex\n\n\t\tif (donor2) {\n\t\t\tif (donor2._idx == fromIdx) {\t\t\t\t\t\t\t// todo: conditional contigidx (first non-null)\n\t\t\t//\twhile (donor._body[fromIdx] && donor._body[fromIdx]._recycled)\n\t\t\t\tfromIdx++;\n\t\t\t}\n\t\t}\n\t}\n\n\tif (!vnode._fixed)\n\t\tsyncChildren(vnode, vnode._el);\n}","import { VTYPE } from './VTYPE';\nimport { isArr, isFunc, insertArr } from '../utils';\n\nfunction setRef(vm, name, node) {\n\tif (vm.refs == null)\n\t\tvm.refs = {};\n\n//\tif (name[0] == \"^\")\t\t// gotta be careful with cleanup of these\n\n\tvar path = name.split(\".\"), seg;\n\n\tvar refs = vm.refs;\n\n\twhile (seg = path.shift()) {\n\t\tif (path.length == 0)\n\t\t\trefs[seg] = node;\n\t\telse\n\t\t\trefs[seg] = refs = {};\n\t}\n}\n\n// vnew, vold\nexport function preProc(vnew, parent, idx, ownVmid) {\t\t// , parentVm\n//\tconsole.count(\"x\");\n\n//\tthis.update(model, parent, idx, parentVm, false);\n\n\t// should this be opt-in?\n\n\n//\tthis._parent = parentVm;\n//\tparentVm._body.push(this);\t\t// if parentVm._body\n\n\t// switch (vnode._type) {}\n\t// TYPE_ELEM\n\t// TYPE_TEXT\n\t// TYPE_VIEW\n\t// TYPE_COMMENT\n\n\t// TYPE_EXTVIEW\n\t// TYPE_EXTELEM\n\t// declarative views\n\n\n\t// injected views\n\tif (vnew._type === VTYPE.VMODEL) {\n\t\t// pull vm.node out & reassociate\n\t\t// redraw?\n\t}\n\telse if (vnew._type === VTYPE.VVIEW) {\n\n\t}\n\t// injected and declared elems/text/comments\n\telse {\n\t\tvnew._parent = parent;\n\t\tvnew._idx = idx;\n\t\tvnew._vmid = ownVmid;\n\n\t\tvar attrs = vnew._attrs;\n\t\tif (attrs) {\n\t\t\tif (attrs._ref != null)\n\t\t\t\tsetRef(vnew._vm, attrs._ref, vnew);\t\t// _vm getter traverses up each time, can optimize by passing parentVm through to here\n\t\t}\n\n\t\tif (isArr(vnew._body)) {\n\t\t// declarative elems, comments, text nodes\n\t\t\tvar body = vnew._body;\n\n\t\t\tfor (var i = 0; i < body.length; i++) {\n\t\t\t\tvar node2 = body[i];\n\n//\t\t\t\tif (isFunc(node2))\n//\t\t\t\t\tnode2 = body[i] = node2();\n\n\t\t\t\t// remove null/undefined\n\t\t\t\tif (node2 == null)\n\t\t\t\t\tbody.splice(i--, 1);\n\t\t\t\t// flatten arrays\n\t\t\t\telse if (isArr(node2))\n\t\t\t\t\tinsertArr(body, node2, i--, 1);\n\t\t\t\telse if (node2._type === VTYPE.TEXT) {\n\t\t\t\t\t// remove empty text nodes\n\t\t\t\t\tif (node2._body == null || node2._body === \"\")\n\t\t\t\t\t\tbody.splice(i--, 1);\n\t\t\t\t\t// merge with previous text node\n\t\t\t\t\telse if (i > 0 && body[i-1]._type === VTYPE.TEXT) {\n\t\t\t\t\t\tbody[i-1]._body += node2._body;\n\t\t\t\t\t\tbody.splice(i--, 1);\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t\tpreProc(node2, vnew, i);\t\t// , /*vnew._vm ||*/ parentVm\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t//\t\tif (node2._ref != null)\n\t\t\t//\t\t\tparentVm._setRef(node2._ref, node2);\n\n\t\t\t\t\tpreProc(node2, vnew, i);\t\t\t// , /*vnew._vm ||*/ parentVm\n\t/*\n\t\t\t\t\t// init/populate keys in in parent\n\t\t\t\t\tif (node2._key != null) {\n\t\t\t\t\t\tif (vnew._keys == null)\n\t\t\t\t\t\t\tvnew._keys = {};\n\n\t\t\t\t\t\tvnew._keys[node2._key] = i;\n\t\t\t\t\t}\n\t*/\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n//\t\telse if (vnew._type === TYPE_TEXT) {}\n//\t\telse if (vnew._type === TYPE_COMMENT) {}\n}","import { patch } from \"./patch\";\nimport { hydrate } from \"./hydrate\";\nimport { preProc } from \"./preProc\";\nimport { isArr } from \"../utils\";\nimport { views } from \"./createView\";\n\nexport function ViewModel(id, view, model, key, opts) {\t\t\t// parent, idx, parentVm\n\tthis._id = id;\n\tthis._view = view;\n\tthis._model = model;\n\tthis._key = key == null ? model : key;\n\tthis._render = view(this, model, key);\t\t\t// , opts\n\n//\tthis.update(model, parent, idx, parentVm, false);\n\n\t// proc opts, evctx, watch\n\n//\tthis.update = function(model, withRedraw, parent, idx, parentVm) {};\n}\n\nViewModel.prototype = {\n\tconstructor: ViewModel,\n\n\t_id: null,\n\n\t// view + key serve as the vm's unique identity\n\t_view: null,\n\t_key: null,\n\t_model: null,\n\t_node: null,\n\t_diff: null,\n\t_diffLast: null,\t// prior array of diff values\n\t_hooks: null,\n\t_render: null,\n\n//\t_setRef: function() {},\n\n\t// parent vm and initial vm descendents\n//\t_parent: null,\n//\t_body: null,\n\n\t// as plugins?\n\tget _parent() {\n\t\tvar p = this._node;\n\n\t\twhile (p = p._parent) {\n\t\t\tif (p._vmid != null)\n\t\t\t\treturn views[p._vmid];\n\t\t}\n\n\t\treturn null;\n\t},\n\tget _body() {\n\t\treturn nextSubVms(this._node, []);\n\t},\n\n//\tapi: null,\n\trefs: null,\n\tupdate: updateAsync,\n\t_update: updateSync,\n\tattach: attach,\n\tmount: mount,\n\tredraw: redrawAsync,\t\t\t// should handle ancest level, raf-debounced, same with update\n\t_redraw: redrawSync,\t\t// non-coalesced / synchronous\n\t/*\n\tfunction(ancest) {\n\t//\tvar vm = this;\n\t//\treturn !ancest : redraw.call(vm) vm._parent ? vm._parent.redraw(ancest - 1);\n\t},\n\t*/\n\tdiff: function(diff) {},\n\thooks: function(hooks) {},\n};\n\nfunction nextSubVms(n, accum) {\n\tvar body = n._body;\n\n\tif (isArr(body)) {\n\t\tfor (var i = 0; i < body.length; i++) {\n\t\t\tvar n2 = body[i];\n\n\t\t\tif (n2._vmid != null)\n\t\t\t\taccum.push(views[n2._vmid]);\n\t\t\telse\n\t\t\t\tnextSubVms(n2, accum);\n\t\t}\n\t}\n\n\treturn accum;\n}\n\nfunction attach(el) {\n}\n\n// TODO: mount be made async?\nfunction mount(el, isRoot) {\n\tif (el == null)\n\t\tthis._redraw();\n\telse if (isRoot) {\n\t\twhile (el.firstChild)\n\t\t\tel.removeChild(el.firstChild);\n\n\t\tthis._redraw(null, null, false);\n\t\thydrate(this._node, el);\n\t}\n\telse {\n\t\tthis._redraw();\n\t\tel.insertBefore(this._node._el, null);\t\t// el.appendChild(this._node._el);\n\t}\n\n\treturn this;\n}\n\n// this must be per view debounced, so should be wrapped in raf per instance\nfunction redrawAsync(level) {\n\tlevel = level || 0;\n\n\tif (level == 0 || this._parent == null)\n\t\tthis._redraw();\t\t\t\t\t\t\t// this should be async also\n\telse\n\t\tthis._parent.redraw(level - 1);\n\n\treturn this;\n}\n\n// level, isRoot?\n// newParent, newIdx\n// ancest by ref, by key\nfunction redrawSync(newParent, newIdx, withDOM) {\n//\tlet isRedrawRoot = newParent != null;\n\tvar vm = this;\n\n//\tif (vm._diff && vm._diff(model))\n\n\t// todo: test result of willRedraw hooks before clearing refs\n\t// todo: also clean up any refs exposed by this view from parents, should tag with src_vm during setting\n\tif (vm.refs)\n\t\tvm.refs = null;\n\n\tvar vold = vm._node;\n\tvar vnew = vm._render(vm, vm._model, vm._key);\t\t// vm._opts\n\n\tpreProc(vnew, null, null, vm._id);\t// , vm._id\n\n\tvm._node = vnew;\n//\tvnew._vm = vm;\t\t\t// this causes a perf drop 1.53ms -> 1.62ms\t\t\thow important is this?\n\tvnew._vmid = vm._id;\n\n\tif (newParent) {\n\t\tvnew._idx = newIdx;\n\t\tvnew._parent = newParent;\n\t\tnewParent._body[newIdx] = vnew;\n\t\t// todo: bubble refs, etc?\n\t}\n\telse if (vold && vold._parent) {\n\t\tvnew._idx = vold._idx;\n\t\tvnew._parent = vold._parent;\n\t\tvold._parent._body[vold._idx] = vnew;\n\t}\n\n\tif (withDOM !== false) {\n\t\tif (vold)\n\t\t\tpatch(vnew, vold);\n\t\telse\n\t\t\thydrate(vnew);\n\t}\n\n\treturn vm;\n}\n\n// withRedraw?\n// this doubles as moveTo\n// will/didUpdate\nfunction updateSync(newModel, newParent, newIdx, withDOM) {\t\t\t// parentVm\n\tvar vm = this;\n\n\tif (newModel != null)\t\t\t\t// && vm._key !== vm._model\n\t\tvm._model = newModel;\n\n\treturn vm._redraw(newParent, newIdx, withDOM);\n/*\n\tif (parentVm != null) {\n\t\tvm._parent = parentVm;\n\t\tparentVm._body.push(vm);\n\t}\n*/\n}\n\n// withRedraw?\nfunction updateAsync(newModel) {\n\treturn this._update(newModel);\n}","import { VTYPE } from './VTYPE';\nimport { ViewModel } from './ViewModel';\n\n// global id counter\nlet vmid = 0;\n\n// global registry of all views\n// this helps the gc by simplifying the graph\nexport const views = {};\n\nexport function createView(view, model, key, opts) {\n\tif (view._type == VTYPE.VVIEW) {\n\t\tmodel\t= view._model;\n\t\tkey\t\t= view._key;\n\t\topts\t= view._opts;\n\t\tview\t= view._view;\n\t}\n\n\tvar vm = new ViewModel(vmid++, view, model, key, opts);\n\tviews[vm._id] = vm;\n\treturn vm;\n}","import { VTYPE } from './VTYPE';\nimport { VNode } from './VNode';\n\nexport function defineText(body) {\n\treturn new VNode(VTYPE.TEXT).body(body);\n}","import { VTYPE } from './VTYPE';\nimport { VNode } from './VNode';\n\nexport function defineComment(body) {\n\treturn new VNode(VTYPE.COMMENT).body(body);\n}","import { VTYPE } from './VTYPE';\n\n// placeholder for declared views\nexport function VView(view, model, key, opts) {\n\tthis._view = view;\n\tthis._model = model;\n\tthis._key = key == null ? model : key;\t// same logic as ViewModel\n\tthis._opts = opts;\n}\n\nVView.prototype = {\n\tconstructor: VView,\n\n\t_type: VTYPE.VVIEW,\n\t_view: null,\n\t_model: null,\n\t_key: null,\n\t_opts: null,\n};","import { VView } from './VView';\n\nexport function defineView(view, model, key, opts) {\n\treturn new VView(view, model, key, opts);\n}","import { VTYPE } from './VTYPE';\n\n// placeholder for injected ViewModels\nexport function VModel(vm) {\n\tthis._vmid = vm._id;\n}\n\nVModel.prototype = {\n\tconstructor: VModel,\n\n\t_type: VTYPE.VMODEL,\n\t_vmid: null,\n};","import { VModel } from './VModel';\n\n\nexport function injectView(vm) {\n//\tif (vm._node == null)\n//\t\tvm._redraw(null, null, false);\n\n//\treturn vm._node;\n\n\treturn new VModel(vm);\n}","import { VTYPE } from './VTYPE';\nimport { VNode } from './VNode';\n\nexport function injectElement(el) {\n\tvar node = new VNode(VTYPE.ELEMENT);\n\tnode._el = node._key = el;\n\treturn node;\n}","import { defineElement } from './defineElement';\n\nexport function defineElementFixed(tag, arg1, arg2) {\n\treturn defineElement(tag, arg1, arg2, true);\n}","import { VTYPE } from './VTYPE';\nimport { isArr, isObj, isVal, isFunc } from '../utils';\nimport { isEvProp, styleStr } from './utils';\n\nconst voidTags = /^(?:img|br|input|col|link|meta|area|base|command|embed|hr|keygen|param|source|track|wbr)$/;\n\nexport function html(node) {\n\t// handle if node is vm\n\tif (node._render) {\n\t\tif (!node._node)\n\t\t\tnode.mount();\n\t\tnode = node._node;\n\t}\n\n\tvar buf = \"\";\n\tswitch (node._type) {\n\t\tcase VTYPE.ELEMENT:\n\t\t\tif (node._el != null && node._tag == null)\n\t\t\t\treturn node._el.outerHTML;\t\t// pre-existing dom elements (does not currently account for any props applied to them)\n\n\t\t\tbuf += \"<\" + node._tag;\n\n\t\t\tif (node._attrs) {\n\t\t\t\tvar style = isVal(node._attrs.style) ? node._attrs.style : \"\";\n\t\t\t\tvar css = isObj(node._attrs.style) ? node._attrs.style : null;\n\n\t\t\t\tif (css)\n\t\t\t\t\tstyle += styleStr(css);\n\n\t\t\t\tfor (var pname in node._attrs) {\n\t\t\t\t\tif (isEvProp(pname) || pname[0] === \".\" || pname[0] === \"_\")\n\t\t\t\t\t\tcontinue;\n\n\t\t\t\t\tvar val = node._attrs[pname];\n\n\t\t\t\t\tif (isFunc(val))\n\t\t\t\t\t\tval = val();\n\n\t\t\t\t\tif (isObj(val))\t// ?\n\t\t\t\t\t\tcontinue;\n\n\t\t\t\t\tif (val === true)\n\t\t\t\t\t\tbuf += \" \" + pname + '=\"\"';\n\t\t\t\t\telse if (val === false) {}\n\t\t\t\t\telse if (val !== null && pname[0] !== \".\")\n\t\t\t\t\t\tbuf += \" \" + pname + '=\"' + val + '\"';\n\t\t\t\t}\n\n\t\t\t\tif (style.length)\n\t\t\t\t\tbuf += ' style=\"' + style.trim() + '\"';\n\t\t\t}\n\n\t\t\t// if body-less svg node, auto-close & return\n\t\t\tif (node.ns != null && node._tag !== \"svg\" && node._tag !== \"math\" && node._body == null)\n\t\t\t\treturn buf + \"/>\";\n\t\t\telse\n\t\t\t\tbuf += \">\";\n\t\t\tbreak;\n\t\tcase VTYPE.TEXT:\n\t\t\treturn node._body;\n\t\t\tbreak;\n\t}\n\n\tif (!voidTags.test(node._tag)) {\n\t\tif (isArr(node._body)) {\n\t\t\tnode._body.forEach(function(n2) {\n\t\t\t\tbuf += html(n2);\n\t\t\t});\n\t\t}\n\t\telse\n\t\t\tbuf += node._body || \"\";\n\n\t\tbuf += \"</\" + node._tag + \">\";\n\t}\n\n\treturn buf;\n};"],"names":["const","let"],"mappings":"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"}