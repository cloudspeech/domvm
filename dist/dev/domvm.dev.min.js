// https://github.com/domvm/domvm (v3.4.7, dev build)
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.domvm={})}("undefined"!=typeof self?self:this,function(e){"use strict";var t=1,n=2,r=3,l=4,o=5,a="undefined"!=typeof window?document:{},u={};function i(){}var s=Array.isArray;function f(e){return null!=e&&e.constructor===Object}function d(e,t,n,r){e.splice.apply(e,[n,r].concat(t))}function c(e){var t=typeof e;return"string"===t||"number"===t}function v(e){return"function"==typeof e}function y(e){return"object"==typeof e&&v(e.then)}function p(e){for(var t=arguments,n=1;n<t.length;n++)for(var r in t[n])e[r]=t[n][r];return e}function h(e,t,n){var r;while(r=t.shift())0===t.length?e[r]=n:e[r]=e=e[r]||{}}function m(e,t){for(var n=[],r=t;r<e.length;r++)n.push(e[r]);return n}function g(e,t){for(var n in e)if(e[n]!==t[n])return false;return true}function b(e,t){var n=e.length;if(t.length!==n)return false;for(var r=0;r<n;r++)if(e[r]!==t[r])return false;return true}function w(e,t){return e===t||null!=t&&null!=e&&(s(e)?b(e,t):!!f(e)&&g(e,t))}function k(e,t,n){return function(){return e.apply(n,t)}}function _(e){for(var t,n,r,l=e.slice(),o=[0],a=0,u=0;u<e.length;++u){var i=e[u];if(-1!==i)if(e[r=o[a]]<i)l[u]=r,o[++a]=u;else{t=0,n=a;while(t<n)e[o[r=(t+n)/2|0]]<i?t=r+1:n=r;i<e[o[t]]&&(t>0&&(l[u]=o[t-1]),o[t]=u)}}n=o[a];while(a>=0)o[a--]=n,n=l[n];return o}function E(e,t){var n,r=0,l=t.length-1;if(l<=2147483647)while(r<=l){if(t[n=r+l>>1]===e)return n;t[n]<e?r=n+1:l=n-1}else while(r<=l){if(t[n=Math.floor((r+l)/2)]===e)return n;t[n]<e?r=n+1:l=n-1}return r==t.length?null:r}function x(e){return"."===e[0]}function T(e){return"o"===e[0]&&"n"===e[1]}function A(e){return"_"===e[0]}function N(e){return"style"===e}function D(e){e&&e.el&&e.el.offsetHeight}function R(e){return null!=e.node&&null!=e.node.el}function C(e,t){switch(t){case"value":case"checked":case"selected":return true}return false}function S(e){e=e||u;while(null==e.vm&&e.parent)e=e.parent;return e.vm}function M(){}var I=M.prototype={constructor:M,type:null,vm:null,key:null,ref:null,data:null,hooks:null,ns:null,el:null,tag:null,attrs:null,body:null,flags:0,_diff:null,_dead:false,_lis:false,idx:null,parent:null};function L(e){var t=new M;return t.type=n,t.body=e,t}I._class=null;var O={},H=/\[(\w+)(?:=(\w+))?\]/g;function U(e){var t=O[e];if(null==t){var n,r,l,o;O[e]=t={tag:(n=e.match(/^[-\w]+/))?n[0]:"div",id:(r=e.match(/#([-\w]+)/))?r[1]:null,class:(l=e.match(/\.([-\w.]+)/))?l[1].replace(/\./g," "):null,attrs:null};while(o=H.exec(e))null==t.attrs&&(t.attrs={}),t.attrs[o[1]]=o[2]||""}return t}var Y={warnings:true,verbose:true,mutations:true,DATA_REPLACED:function(e,t,n){if(v(e.view)&&e.view.length>1){return["A view's data was replaced. The data originally passed to the view closure during init is now stale. You may want to rely only on the data passed to render() or vm.data.",e,t,n]}},UNKEYED_INPUT:function(e){return["Unkeyed <input> detected. Consider adding a name, id, _key, or _ref attr to avoid accidental DOM recycling between different <input> types.",e]},UNMOUNTED_REDRAW:function(e){return["Invoking redraw() of an unmounted (sub)view may result in errors.",e]},INLINE_HANDLER:function(e,t,n){return["Anonymous event handlers get re-bound on each redraw, consider defining them outside of templates for better reuse.",e,t,n]},MISMATCHED_HANDLER:function(e,t,n){return["Patching of different event handler styles is not fully supported for performance reasons. Ensure that handlers are defined using the same style.",e,t,n]},SVG_WRONG_FACTORY:function(e){return["<svg> defined using domvm.defineElement. Use domvm.defineSvgElement for <svg> & child nodes.",e]},FOREIGN_ELEMENT:function(e){return["domvm stumbled upon an element in its DOM that it didn't create, which may be problematic. You can inject external elements into the vtree using domvm.injectElement.",e]},REUSED_ATTRS:function(e){return["Attrs objects may only be reused if they are truly static, as a perf optimization. Mutating & reusing them will have no effect on the DOM due to 0 diff.",e]},ADJACENT_TEXT:function(e,t,n){return["Adjacent text nodes will be merged. Consider concatentating them yourself in the template for improved perf.",e,t,n]},ARRAY_FLATTENED:function(e,t){return["Arrays within templates will be flattened. When they are leading or trailing, it's easy and more performant to just .concat() them in the template.",e,t]},ALREADY_HYDRATED:function(e){return["A child view failed to mount because it was already hydrated. Make sure not to invoke vm.redraw() or vm.update() on unmounted views.",e]},ATTACH_IMPLICIT_TBODY:function(e,t){return["<table><tr> was detected in the vtree, but the DOM will be <table><tbody><tr> after HTML's implicit parsing. You should create the <tbody> vnode explicitly to avoid SSR/attach() failures.",e,t]}};function j(e,t){if(Y.warnings&&v(Y[e])){var n=Y[e].apply(null,t);n&&(n[0]=e+": "+(Y.verbose?n[0]:""),console.warn.apply(console,n))}}var V=1,F=2,P=4,G=8;function q(e,n,r,l){var o=new M;o.type=t,o.flags=l||0,o.attrs=n||null;var a=U(e);e=a.tag;var u=null!=a.id,i=null!=a.class,s=null!=a.attrs;if(u||i||s){var f=o.attrs||{};if(u&&null==f.id&&(f.id=a.id),i&&(o._class=a.class,f.class=a.class+(null!=f.class?" "+f.class:"")),s)for(var d in a.attrs)null==f[d]&&(f[d]=a.attrs[d]);o.attrs=f}if(o.tag=e,null!=o.attrs){var c=o.attrs;null!=c._key&&(o.key=c._key),null!=c._ref&&(o.ref=c._ref),null!=c._hooks&&(o.hooks=c._hooks),null!=c._data&&(o.data=c._data),null!=c._flags&&(o.flags=c._flags),null==o.key&&(null!=o.ref?o.key=o.ref:null!=c.id?o.key=c.id:null!=c.name&&(o.key=c.name+("radio"===c.type||"checkbox"===c.type?c.value:"")))}return null!=r&&(o.body=r,r instanceof W&&(o.flags=r.flags)),"svg"===o.tag?setTimeout(function(){null==o.ns&&j("SVG_WRONG_FACTORY",[o])},16):/^(?:input|textarea|select|datalist|output)$/.test(o.tag)&&null==o.key&&j("UNKEYED_INPUT",[o]),o}function W(e,t,n){var r,o=this,a=e.length;o.flags=G,o.items=e,o.length=a,o.key=function(){return null},o.diff={val:function(n,r){return t.val(e[n],r)},eq:function(e,n){return t.eq(n._diff,o.diff.val(e))}},o.tpl=function(t){return r(e[t],t)},o.map=function(e){return r=e,o},o.body=function(e){for(var t=[],n=0;n<a;n++){var r=o.tpl(n);r.type!=l&&(r._diff=o.diff.val(n,e)),t.push(r)}e.body=t,Q(e)},null!=n&&(o.flags|=P,o.key=function(t){return n(e[t],t)}),v(t)&&(o.diff={val:function(n){return t(e[n])},eq:function(e,t){return w(t._diff,o.diff.val(e))}})}var B=function(e){return e},z=i,K=i;function X(e){B=e.val,z=e.on,K=e.off}function $(e,t,n){h(e,("refs."+t).split("."),n)}function J(e){while(e=e.parent)e.flags|=V}function Z(e,t,n,r){if(e.type!==o&&e.type!==l){e.parent=t,e.idx=n,e.vm=r,null!=e.ref&&$(S(e),e.ref,e);var a=e.hooks,u=r&&r.hooks;(a&&(a.willRemove||a.didRemove)||u&&(u.willUnmount||u.didUnmount))&&J(e),s(e.body)?Q(e):""===e.body?e.body=null:(e.body=B(e.body,S(e)._stream),null==e.body||e.body instanceof W||(e.body=""+e.body))}}function Q(e){for(var t=e.body,r=0;r<t.length;r++){var l=t[r];false===l||null==l?t.splice(r--,1):s(l)?(0!==r&&r!==t.length-1||j("ARRAY_FLATTENED",[e,l]),d(t,l,r--,1)):(null==l.type&&(t[r]=l=L(""+l)),l.type===n?null==l.body||""===l.body?t.splice(r--,1):r>0&&t[r-1].type===n?(j("ADJACENT_TEXT",[e,t[r-1].body,l.body]),t[r-1].body+=l.body,t.splice(r--,1)):Z(l,e,r,null):Z(l,e,r,null))}}var ee={animationIterationCount:true,boxFlex:true,boxFlexGroup:true,boxOrdinalGroup:true,columnCount:true,flex:true,flexGrow:true,flexPositive:true,flexShrink:true,flexNegative:true,flexOrder:true,gridRow:true,gridColumn:true,order:true,lineClamp:true,borderImageOutset:true,borderImageSlice:true,borderImageWidth:true,fontWeight:true,lineHeight:true,opacity:true,orphans:true,tabSize:true,widows:true,zIndex:true,zoom:true,fillOpacity:true,floodOpacity:true,stopOpacity:true,strokeDasharray:true,strokeDashoffset:true,strokeMiterlimit:true,strokeOpacity:true,strokeWidth:true};function te(e,t){return isNaN(t)||ee[e]?t:t+"px"}function ne(e,t){var n=(e.attrs||u).style,r=t?(t.attrs||u).style:null;if(null==n||c(n))e.el.style.cssText=n;else{for(var l in n){var o=n[l];n[l]=o=B(o,S(e)._stream),(null==r||null!=o&&o!==r[l])&&(e.el.style[l]=te(l,o))}if(r)for(var a in r)null==n[a]&&(e.el.style[a]="")}}var re={};function le(e){p(re,e)}var oe=i,ae=false;function ue(e){oe=e.onevent||oe,null!=e.syncRedraw&&(ae=e.syncRedraw),e.onemit&&le(e.onemit),e.stream&&X(e.stream)}var ie={};function se(e){ie[e]||(ie[e]=true,de(a,e,ye,true))}function fe(e,t,n,r){e.removeEventListener(t.slice(2),n,r)}function de(e,t,n,r){e.addEventListener(t.slice(2),n,r)}function ce(e,t,n,r,l){var o,a,u=e.apply(l,t.concat([n,r,l,l.data]));if(o=l.onevent(n,r,l,l.data,t),a=oe.call(null,n,r,l,l.data,t),false===u||false===o||false===a)return n.preventDefault(),n.stopPropagation(),false}function ve(e,t){var n,r,l="on"+e,o=[];while(t)(r=t.attrs)&&(n=r[l])&&s(n)&&o.unshift(n),t=t.parent;return o}function ye(e){var t=e.target._node;if(null!=t)for(var n=ve(e.type,t),r=S(t),l=0;l<n.length;l++){if(false===ce(n[l][0],n[l].slice(1),e,t,r))break}}function pe(e,t,n,r){if(n!=r){v(n)&&v(r)&&r.name==n.name&&j("INLINE_HANDLER",[e,r,n]),null==r||null==n||s(r)==s(n)&&f(r)==f(n)&&v(r)==v(n)||j("MISMATCHED_HANDLER",[e,r,n]);var l=e.el;v(n)?de(l,t,n,false):null!=n&&se(t),v(r)&&fe(l,t,r,false)}}function he(e,t,n){x(t)&&(t=t.substr(1),n=true),n?e.el[t]="":e.el.removeAttribute(t)}function me(e,t,n,r){var l=e.el;null!=e.ns?l.setAttribute(t,n):"class"===t?l.className=n:"id"===t||"boolean"==typeof n||r?l[t]=n:"."===t[0]?l[t.substr(1)]=n:l.setAttribute(t,n)}function ge(e,t){var n=e.attrs||u,r=t.attrs||u;if(n===r)j("REUSED_ATTRS",[e]);else{for(var l in n){var o=n[l];if(null!=o){var a=C(e.tag,l),i=a?e.el[l]:r[l];n[l]=o=B(o,(S(e)||u)._stream),o===i||(N(l)?ne(e,t):A(l)||(T(l)?pe(e,l,o,i):me(e,l,o,a)))}}for(var l in r)null==n[l]&&(T(l)?pe(e,l,n[l],r[l]):A(l)||he(e,l,C(e.tag,l)))}}function be(e,t,n,r){return e.type===l&&(t=e.data,n=e.key,r=e.opts,e=e.view),new tt(e,t,n,r)}var we=[];function ke(e,t,n,r,l){if(null!=e){var o=n.hooks[t];if(o){if("d"!==t[0]||"i"!==t[1]||"d"!==t[2])return o(n,r);l?(D(n.parent),o(n,r)):we.push([o,n,r])}}}function _e(e){if(we.length){var t;D(e.node);while(t=we.shift())t[0](t[1],t[2])}}function Ee(e,t){return null!=t?a.createElementNS(t,e):a.createElement(e)}function xe(e){return a.createTextNode(e)}function Te(e){return a.createComment(e)}function Ae(e){return e.nextSibling}function Ne(e){var t=e.vm,n=null!=t&&ke(t.hooks,"willUnmount",t,t.data),r=ke(e.hooks,"willRemove",e);if((e.flags&V)===V&&s(e.body))for(var l=0;l<e.body.length;l++)Ne(e.body[l]);return n||r}function De(e,t){if(t){var n=e.vm;null!=n&&(n.node=n.refs=null)}var r=e.body;if(s(r))for(var l=0;l<r.length;l++)De(r[l],true)}function Re(e,t,n){var r=t._node,l=r.vm;if(De(r,true),(r.flags&V)===V)for(var o=0;o<r.body.length;o++)Re(t,r.body[o].el);delete t._node,e.removeChild(t),ke(r.hooks,"didRemove",r,null,n),null!=l&&(ke(l.hooks,"didUnmount",l,l.data,n),l.node=null)}function Ce(e,t){var n=t._node;if(!n._dead){var r=Ne(n);null!=r&&y(r)?(n._dead=true,r.then(k(Re,[e,t,true]))):Re(e,t)}}function Se(e){var t=e.el;if(0==(e.flags&V))De(e,false),t.textContent=null;else{var n=t.firstChild;if(null!=n)do{var r=Ae(n);Ce(t,n)}while(n=r)}}function Me(e,t,n){var r=t._node,l=null!=t.parentNode,o=t!==n&&l?null:r.vm;null!=o&&ke(o.hooks,"willMount",o,o.data),ke(r.hooks,l?"willReinsert":"willInsert",r),e.insertBefore(t,n),ke(r.hooks,l?"didReinsert":"didInsert",r),null!=o&&ke(o.hooks,"didMount",o,o.data)}function Ie(e,t,n){Me(e,t,n?Ae(n):null)}function Le(e){for(var t=0;t<e.body.length;t++){var n=e.body[t],a=n.type;if(a<=r)Me(e.el,Oe(n));else if(a===l){a=(u=be(n.view,n.data,n.key,n.opts)._redraw(e,t,false)).node.type,Me(e.el,Oe(u.node))}else if(a===o){var u;(u=n.vm)._update(n.data,e,t,true,true),a=u.node.type,Me(e.el,u.node.el)}}}function Oe(e,l){return null==e.el&&(e.type===t?(e.el=l||Ee(e.tag,e.ns),null!=e.attrs&&ge(e,u),(e.flags&G)===G&&e.body.body(e),s(e.body)?Le(e):null!=e.body&&(e.el.textContent=e.body)):e.type===n?e.el=l||xe(e.body):e.type===r&&(e.el=l||Te(e.body))),e.el._node=e,e.el}function He(e){return e.parent}var Ue=1,Ye=2;function je(e,t,n,r,l,o,a,u){return function(i,s,f,d,c,v){var y,p;if(null!=d[r]){if(null==(y=d[r]._node))return j("FOREIGN_ELEMENT",[d[r]]),void(d[r]=e(d[r]));if(He(y)!==i)return p=e(d[r]),null!=y.vm?y.vm.unmount(true):Ce(s,d[r]),void(d[r]=p)}if(d[l]==c)return Ye;if(null==d[l].el)n(s,Oe(d[l]),d[r]),d[l]=t(d[l],f);else if(d[l].el===d[r])d[l]=t(d[l],f),d[r]=e(d[r]);else{if(v||y!==d[a])return null!=d[l].vm&&j("ALREADY_HYDRATED",[d[l].vm]),v&&null!=d[r]?Ve(e,t,n,r,l,s,f,y,d):Ue;p=d[r],d[r]=e(p),u(s,p,d[o]),d[o]=p}}}function Ve(e,t,n,r,l,o,a,u,i){if(u._lis)n(o,i[l].el,i[r]),i[l]=t(i[l],a);else{var s=E(u.idx,i.tombs);u._lis=true;var f=e(i[r]);n(o,i[r],null!=s?a[i.tombs[s]].el:s),null==s?i.tombs.push(u.idx):i.tombs.splice(s,0,u.idx),i[r]=f}}var Fe=je(Ae,function(e,t){return t[e.idx+1]},Me,"lftSib","lftNode","rgtSib","rgtNode",Ie),Pe=je(function(e){return e.previousSibling},function(e,t){return t[e.idx-1]},Ie,"rgtSib","rgtNode","lftSib","lftNode",Me);function Ge(e,t){var n=t.body,r=e.el,l=e.body,o={lftNode:l[0],rgtNode:l[l.length-1],lftSib:(n[0]||u).el,rgtSib:(n[n.length-1]||u).el};e:while(1){while(1){var a=Fe(e,r,l,o,null,false);if(a===Ue)break;if(a===Ye)break e}while(1){var i=Pe(e,r,l,o,o.lftNode,false);if(i===Ue)break;if(i===Ye)break e}qe(e,r,l,o);break}}function qe(e,t,n,r){var l=[],o=t.firstChild;do{var a=o._node;a.parent===e&&l.push(a.idx)}while(o=Ae(o));for(var u=_(l).map(function(e){return l[e]}),i=0;i<u.length;i++)n[u[i]]._lis=true;r.tombs=u;while(1){if(Fe(e,t,n,r,null,true)===Ye)break}}function We(e){return e.el._node.parent!==e.parent}function Be(e,t,n){return t[n]}function ze(e,t,n){for(;n<t.length;n++){var r=t[n];if(null!=r.vm){if(e.type===l&&r.vm.view===e.view&&r.vm.key===e.key||e.type===o&&r.vm===e.vm)return r}else if(!We(r)&&e.tag===r.tag&&e.type===r.type&&e.key===r.key&&(e.flags&~V)==(r.flags&~V))return r}return null}function Ke(e,t,n){if(null==t._keys){if(t[n].key===e.key)return t[n];for(var r={},l=0;l<t.length;l++)r[t[l].key]=l;t._keys=r}return t[t._keys[e.key]]}function Xe(e,t){ke(t.hooks,"willRecycle",t,e);var r=e.el=t.el,l=t.body,o=e.body;if(r._node=e,e.type!==n||o===l){null==e.attrs&&null==t.attrs||ge(e,t);var a=s(l),u=s(o),i=(e.flags&G)===G;a?u||i?$e(e,t):o!==l&&(null!=o?r.textContent=o:Se(t)):u?(Se(t),Le(e)):o!==l&&(null!=o&&null!=l?r.firstChild.nodeValue=o:r.textContent=o),ke(t.hooks,"didRecycle",t,e)}else r.nodeValue=o}function $e(e,n){var a=e.body,u=a.length,s=n.body,f=s.length,d=(e.flags&G)===G,c=(e.flags&F)===F,v=(e.flags&P)===P,y=!c&&e.type===t,p=true,h=0===f?i:v?Ke:c||d?Be:ze;if(y&&0===u)return Se(n),void(d&&(e.body=[]));var m,g,b=0,w=false,k=0;if(d)var _={key:null},E=e.body=Array(u);for(var x=0;x<u;x++){if(d){var T=false;p&&(v&&(_.key=a.key(x)),m=h(_,s,k)),null!=m?(g=m.idx,a.diff.eq(x,m)?((A=m).parent=e,A.idx=x,A._lis=false):T=true):T=true,T&&((A=a.tpl(x)).type===l?A=null!=m?m.vm._update(A.data,e,x,true,true).node:be(A.view,A.data,A.key,A.opts)._redraw(e,x,false).node:(Z(A,e,x),A._diff=a.diff.val(x,e),null!=m&&Xe(A,m))),E[x]=A}else{var A,N=(A=a[x]).type;if(N<=r)(m=p&&h(A,s,k))&&(Xe(A,m),g=m.idx);else if(N===l)(m=p&&h(A,s,k))?(g=m.idx,m.vm._update(A.data,e,x,true,true)):be(A.view,A.data,A.key,A.opts)._redraw(e,x,false);else if(N===o){var D=A.vm,C=R(D);C&&D.node.parent!=n&&(D.unmount(true),C=false),D._update(A.data,e,x,C,true)}}if(null!=m&&(g===k?++k===f&&u>f&&(m=null,p=false):w=true,!v&&f>100&&w&&++b%10==0))while(k<f&&We(s[k]))k++}y&&Ge(e,n)}var Je=new Set,Ze=0;function Qe(){Je.forEach(function(e){if(null!=e.node){var t=e;while(t=t.parent())if(Je.has(t))return;e.redraw(true)}}),Je.clear(),Ze=0}var et=null;function tt(e,t,n,r){var l=this;l.view=e,l.data=t,l.key=n,r&&(l.opts=r,l.cfg(r));var o=f(e)?e:e.call(l,l,t,n,r);v(o)?l.render=o:(l.render=o.render,l.cfg(o)),l.init&&l.init.call(l,l,l.data,l.key,r)}function nt(e,t,n){return w(t,n)}function rt(e){var t=this;e.init&&(t.init=e.init),e.diff&&(v(e.diff)?t.diff={val:e.diff,eq:nt}:t.diff=e.diff),e.onevent&&(t.onevent=e.onevent),e.hooks&&(t.hooks=p(t.hooks||{},e.hooks)),e.onemit&&(t.onemit=p(t.onemit||{},e.onemit))}Y.mutations&&(et=new function(e){navigator.userAgent.indexOf("Edge");var t=-1!==navigator.userAgent.indexOf("Trident/"),n=Object.getOwnPropertyDescriptor,r=Object.defineProperty,l=Node.prototype,o=n(l,"textContent"),a=n(l,"nodeValue"),u=HTMLElement.prototype,i=n(u,"innerText"),s=Element.prototype,f=n(t?u:s,"innerHTML"),d=n(t?u:s,"className"),c=n(t?u:s,"id"),v=CSSStyleDeclaration.prototype,y=n(v,"cssText"),p=HTMLInputElement.prototype,h=HTMLTextAreaElement.prototype,m=HTMLSelectElement.prototype,g=HTMLOptionElement.prototype,b=n(p,"checked"),w=n(p,"value"),k=n(h,"value"),_=n(m,"value"),E=n(m,"selectedIndex"),x=n(g,"selected"),T={"document.createElement":null,"document.createElementNS":null,"document.createTextNode":null,"document.createComment":null,"document.createDocumentFragment":null,"DocumentFragment.prototype.insertBefore":null,"Element.prototype.appendChild":null,"Element.prototype.removeChild":null,"Element.prototype.insertBefore":null,"Element.prototype.replaceChild":null,"Element.prototype.remove":null,"Element.prototype.setAttribute":null,"Element.prototype.setAttributeNS":null,"Element.prototype.removeAttribute":null,"Element.prototype.removeAttributeNS":null},A={},N=null;function D(e){var t=e.split("."),n=window;while(t.length>1)n=n[t.shift()];return{ctx:n,last:t[0]}}for(var R in T){var C=D(R);null===T[R]&&(T[R]=C.ctx[C.last]),function(e,t){A[t]=0,C.ctx[t]=function(){return A[t]++,T[e].apply(this,arguments)}}(R,C.last)}function S(){for(var e in A)A[e]=0}A.textContent=0,r(l,"textContent",{set:function(e){A.textContent++,o.set.call(this,e)}}),A.nodeValue=0,r(l,"nodeValue",{set:function(e){A.nodeValue++,a.set.call(this,e)}}),A.innerText=0,r(u,"innerText",{set:function(e){A.innerText++,i.set.call(this,e)}}),A.innerHTML=0,r(t?u:s,"innerHTML",{set:function(e){A.innerHTML++,f.set.call(this,e)}}),A.className=0,r(t?u:s,"className",{set:function(e){A.className++,d.set.call(this,e)}}),A.cssText=0,r(v,"cssText",{set:function(e){A.cssText++,y.set.call(this,e)}}),A.id=0,r(t?u:s,"id",{set:function(e){A.id++,c.set.call(this,e)}}),A.checked=0,r(p,"checked",{set:function(e){A.checked++,b.set.call(this,e)}}),A.value=0,r(p,"value",{set:function(e){A.value++,w.set.call(this,e)}}),r(h,"value",{set:function(e){A.value++,k.set.call(this,e)}}),r(m,"value",{set:function(e){A.value++,_.set.call(this,e)}}),A.selectedIndex=0,r(m,"selectedIndex",{set:function(e){A.selectedIndex++,E.set.call(this,e)}}),A.selected=0,r(g,"selected",{set:function(e){A.selected++,x.set.call(this,e)}}),this.start=function(){N=+new Date},this.end=function(){var t=+new Date-N;N=null;var n={};for(var r in A)A[r]>0&&(n[r]=A[r]);return S(),e&&(n._time=t),n}}(true));var lt=tt.prototype={constructor:tt,init:null,view:null,key:null,data:null,state:null,api:null,opts:null,node:null,hooks:null,refs:null,render:null,mount:function(e,t){var n=this;Y.mutations&&et.start();t?(Se({el:e,flags:0}),n._redraw(null,null,false),e.nodeName.toLowerCase()!==n.node.tag?(Oe(n.node),Me(e.parentNode,n.node.el,e),e.parentNode.removeChild(e)):Me(e.parentNode,Oe(n.node,e),e)):(n._redraw(null,null),e&&Me(e,n.node.el));e&&_e(n);Y.mutations&&console.log(et.end());return n},unmount:function(e){K(this._stream),this._stream=null;var t=this.node;Ce(t.el.parentNode,t.el),t.el=null,e||_e(this)},cfg:rt,config:rt,parent:function(){return S(this.node.parent)},root:function(){var e=this.node;while(e.parent)e=e.parent;return e.vm},redraw:function(e){return null==e&&(e=ae),e?this._redraw(null,null,R(this)):(Je.add(this),0===Ze&&(Ze=requestAnimationFrame(Qe))),this},update:function(e,t){return null==t&&(t=ae),this._update(e,null,null,R(this),t),t||this.redraw(),this},_update:function(e,t,n,r,l){var o=this;null!=e&&o.data!==e&&(j("DATA_REPLACED",[o,o.data,e]),ke(o.hooks,"willUpdate",o,e),o.data=e);return l?o._redraw(t,n,r):o},_redraw:function(e,t,n){var r=null==e,l=this,o=l.node&&l.node.el&&l.node.el.parentNode;r&&l.node&&l.node.el&&!l.node.el.parentNode&&j("UNMOUNTED_REDRAW",[l]);r&&Y.mutations&&o&&et.start();var a,u,i=null!=l.diff,s=l.node;if(i&&(u=l.diff.val(l,l.data,l.key,e,t),null!=s&&(a=s._diff,l.diff.eq(l,a,u))))return s._diff=u,ot(l,s,e,t);o&&ke(l.hooks,"willRedraw",l,l.data);var f=l.render.call(l,l,l.data,l.key,e,t);i&&(f._diff=u);if(f===s)return ot(l,s,e,t);l.refs=null,null!=l.key&&f.key!==l.key&&(f.key=l.key);l.node=f,l._stream=[],e?(Z(f,e,t,l),e.body[t]=f):s&&s.parent?(Z(f,s.parent,s.idx,l),s.parent.body[s.idx]=f):Z(f,null,null,l);if(false!==n)if(s)if(s.tag!==f.tag||s.key!==f.key){s.vm=f.vm=null;var d=s.el.parentNode,c=Ae(s.el);Ce(d,s.el),Me(d,Oe(f),c),s.el=f.el,f.vm=l}else Xe(f,s);else Oe(f);B(l.data,l._stream),l._stream=z(l._stream,l),o&&ke(l.hooks,"didRedraw",l,l.data),r&&o&&_e(l);r&&Y.mutations&&o&&console.log(et.end());return l}};function ot(e,t,n,r){return null!=n&&(n.body[r]=t,t.idx=r,t.parent=n,t._lis=false),e}function at(e,t,n,r){var l,o;return null==n?f(t)?l=t:o=t:(l=t,o=n),q(e,l,o,r)}lt.onevent=i;var ut="http://www.w3.org/2000/svg";function it(e,t,n,r){this.view=e,this.data=t,this.key=n,this.opts=r}function st(e,t){this.vm=e,this.data=t}function ft(e,t,n){if(f(t)){var r=Object.create(e);r.attrs=p({},e.attrs),null!=t.class&&null!=e._class&&(t.class=e._class+" "+t.class);p(e.attrs,t);ge(e,r),n&&D(e)}else{if(null!=e.vm)return;Z(t,e.parent,e.idx,null),e.parent.body[e.idx]=t,Xe(t,e),n&&D(t),_e(S(t))}}function dt(e){var t,n,r=arguments,l=r.length;if(l>1){var o=1;f(r[1])&&(n=r[1],o=2),t=l!==o+1||r[o]instanceof M||r[o]instanceof it||r[o]instanceof st?m(r,o):r[o]}return q(e,n,t)}function ct(e,t){var n=e.body;if(s(n))for(var r=0;r<n.length;r++){var l=n[r];null!=l.vm?t.push(l.vm):ct(l,t)}return t}function vt(e,t){e.el=t,t._node=e;var n=e.attrs;for(var r in n){var a=n[r],u=C(e.tag,r);N(r)||A(r)||(T(r)?pe(e,r,a):null!=a&&u&&me(e,r,a,u))}if((e.flags&G)===G&&e.body.body(e),s(e.body)&&e.body.length>0){var i=t.firstChild,f=0,d=e.body[f];do{d.type===l?d=be(d.view,d.data,d.key,d.opts)._redraw(e,f,false).node:d.type===o&&(d=d.vm.node||d.vm._update(d.data,e,f,false,true).node),"table"===e.tag&&"tr"===d.tag&&j("ATTACH_IMPLICIT_TBODY",[e,d]),vt(d,i);var c=d.vm;null!=c&&ke(c.hooks,"willMount",c,c.data),ke(d.hooks,"willInsert",d),ke(d.hooks,"didInsert",d),null!=c&&ke(c.hooks,"didMount",c,c.data)}while((i=i.nextSibling)&&(d=e.body[++f]))}}function yt(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function pt(e){var t="";for(var n in e)null!=e[n]&&(t+=yt(n)+": "+te(n,e[n])+"; ");return t}function ht(e){return null==e?"":""+e}it.prototype={constructor:it,type:l,view:null,data:null,key:null,opts:null},st.prototype={constructor:st,type:o,vm:null,data:null},I.patch=function(e,t){ft(this,e,t)},lt.emit=function(e){var t=this,n=t,r=m(arguments,1).concat(n,n.data);do{var l=t.onemit,o=l?l[e]:null;if(o){o.apply(t,r);break}}while(t=t.parent());re[e]&&re[e].apply(t,r)},lt.onemit=null,lt.body=function(){return ct(this.node,[])},lt._stream=null;var mt={area:true,base:true,br:true,col:true,command:true,embed:true,hr:true,img:true,input:true,keygen:true,link:true,meta:true,param:true,source:true,track:true,wbr:true};function gt(e){e=ht(e);for(var t=0,n="";t<e.length;t++)switch(e[t]){case"&":n+="&amp;";break;case"<":n+="&lt;";break;case">":n+="&gt;";break;default:n+=e[t]}return n}function bt(e){e=ht(e);for(var t=0,n="";t<e.length;t++)n+='"'===e[t]?"&quot;":e[t];return n}function wt(e,t){for(var n="",r=0;r<e.length;r++)n+=_t(e[r],t);return n}var kt=".innerHTML";function _t(e,a){var u,i;switch(e.type){case l:u=be(e.view,e.data,e.key,e.opts).html(a);break;case o:u=e.vm.html();break;case t:if(null!=e.el&&null==e.tag){u=e.el.outerHTML;break}var f="";f+="<"+e.tag;var d=e.attrs,c=null!=d;if(c){for(var v in d)if(!(T(v)||x(v)||A(v)||false===a&&C(e.tag,v))){var y=d[v];"style"!==v||null==y?true===y?f+=" "+gt(v)+'=""':false===y||null!=y&&(f+=" "+gt(v)+'="'+bt(y)+'"'):i="object"==typeof y?pt(y):y}null!=i&&(f+=' style="'+bt(i.trim())+'"')}if(null==e.body&&null!=e.ns&&"svg"!==e.tag)return f+"/>";f+=">",mt[e.tag]||(c&&null!=d[kt]?f+=d[kt]:s(e.body)?f+=wt(e.body,a):(e.flags&G)===G?(e.body.body(e),f+=wt(e.body,a)):f+=gt(e.body),f+="</"+e.tag+">"),u=f;break;case n:u=gt(e.body);break;case r:u="\x3c!--"+gt(e.body)+"--\x3e"}return u}lt.attach=function(e){var t=this;return null==t.node&&t._redraw(null,null,false),vt(t.node,e),_e(t),t},lt.html=function(e){null==this.node&&this._redraw(null,null,false);var t=_t(this.node,e);return we.length=0,t},I.html=function(e){return _t(this,e)},e.DEVMODE=Y,e.defineElementSpread=dt,e.defineSvgElementSpread=function(){var e=dt.apply(null,arguments);return e.ns=ut,e},e.ViewModel=tt,e.VNode=M,e.createView=be,e.defineElement=at,e.defineSvgElement=function(e,t,n,r){var l=at(e,t,n,r);return l.ns=ut,l},e.defineText=L,e.defineComment=function(e){var t=new M;return t.type=r,t.body=e,t},e.defineView=function(e,t,n,r){return new it(e,t,n,r)},e.injectView=function(e,t){return new st(e,t)},e.injectElement=function(e){var n=new M;return n.type=t,n.el=n.key=e,n},e.list=function(e,t,n){return new W(e,t,n)},e.FIXED_BODY=F,e.KEYED_LIST=P,e.config=ue,e.cfg=ue});