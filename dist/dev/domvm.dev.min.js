// https://github.com/domvm/domvm (v3.4.12, dev build)
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e=e||self).domvm={})}(this,(function(e){"use strict";var t=0,n=1,r=2,l=3,a=4,o=5,u="undefined"!=typeof window?document:{},i={};function s(){}var f=Array.isArray;function d(e){return null!=e&&e.constructor===Object}function c(e,t,n,r){e.splice.apply(e,[n,r].concat(t))}function v(e){return"function"==typeof e}function p(e){for(var t=arguments,n=1;n<t.length;n++)for(var r in t[n])e[r]=t[n][r];return e}function y(e,t){for(var n=[],r=t;r<e.length;r++)n.push(e[r]);return n}function h(e,t){return e===t||null!=t&&null!=e&&(f(e)?function(e,t){var n=e.length;if(t.length!==n)return false;for(var r=0;r<n;r++)if(e[r]!==t[r])return false;return true}(e,t):!!d(e)&&function(e,t){for(var n in e)if(e[n]!==t[n])return false;return true}(e,t))}function m(e){return"."===e[0]}function g(e){return"o"===e[0]&&"n"===e[1]}function b(e){return"_"===e[0]}function w(e){return"style"===e}function k(e){e&&e.el&&e.el.offsetHeight}function _(e){return null!=e.node&&null!=e.node.el}function E(e,t){switch(t){case"value":case"checked":case"selected":return true}return false}function x(e){e=e||i;while(null==e.vm&&e.parent)e=e.parent;return e.vm}function T(){}var A=T.prototype={constructor:T,type:null,vm:null,key:null,ref:null,data:null,hooks:null,ns:null,el:null,tag:null,attrs:null,body:null,flags:0,_diff:null,_dead:false,_lis:false,idx:null,parent:null};function N(e){var t=new T;return t.type=r,t.body=e,t}A._class=null;var D={},R=/\[([^=\]]+)=?([^\]]+)?\]/g;var C={warnings:true,verbose:true,mutations:true,DATA_REPLACED:function(e,t,n){if(v(e.view)&&e.view.length>1){return["A view's data was replaced. The data originally passed to the view closure during init is now stale. You may want to rely only on the data passed to render() or vm.data.",e,t,n]}},UNKEYED_INPUT:function(e){return["Unkeyed <input> detected. Consider adding a name, id, _key, or _ref attr to avoid accidental DOM recycling between different <input> types.",e]},UNMOUNTED_REDRAW:function(e){return["Invoking redraw() of an unmounted (sub)view may result in errors.",e]},INLINE_HANDLER:function(e,t,n){return["Anonymous event handlers get re-bound on each redraw, consider defining them outside of templates for better reuse.",e,t,n]},MISMATCHED_HANDLER:function(e,t,n){return["Patching of different event handler styles is not fully supported for performance reasons. Ensure that handlers are defined using the same style.",e,t,n]},SVG_WRONG_FACTORY:function(e){return["<svg> defined using domvm.defineElement. Use domvm.defineSvgElement for <svg> & child nodes.",e]},FOREIGN_ELEMENT:function(e){return["domvm stumbled upon an element in its DOM that it didn't create, which may be problematic. You can inject external elements into the vtree using domvm.injectElement.",e]},REUSED_ATTRS:function(e){return["Attrs objects may only be reused if they are truly static, as a perf optimization. Mutating & reusing them will have no effect on the DOM due to 0 diff.",e]},ADJACENT_TEXT:function(e,t,n){return["Adjacent text nodes will be merged. Consider concatentating them yourself in the template for improved perf.",e,t,n]},ARRAY_FLATTENED:function(e,t){return["Arrays within templates will be flattened. When they are leading or trailing, it's easy and more performant to just .concat() them in the template.",e,t]},ALREADY_HYDRATED:function(e){return["A child view failed to mount because it was already hydrated. Make sure not to invoke vm.redraw() or vm.update() on unmounted views.",e]},ATTACH_IMPLICIT_TBODY:function(e,t){return["<table><tr> was detected in the vtree, but the DOM will be <table><tbody><tr> after HTML's implicit parsing. You should create the <tbody> vnode explicitly to avoid SSR/attach() failures.",e,t]}};function S(e,t){if(C.warnings&&v(C[e])){var n=C[e].apply(null,t);n&&(n[0]=e+": "+(C.verbose?n[0]:""),console.warn.apply(console,n))}}var M=1,I=2,L=4,O=8;function H(e,t,r,l){var a=new T;a.type=n,a.flags=l||0,a.attrs=t||null;var o=function(e){var t=D[e];if(null==t){var n,r,l,a;D[e]=t={tag:(n=e.match(/^[-\w]+/))?n[0]:"div",id:(r=e.match(/#([-\w]+)/))?r[1]:null,class:(l=e.match(/\.([-\w.]+)/))?l[1].replace(/\./g," "):null,attrs:null};while(a=R.exec(e))null==t.attrs&&(t.attrs={}),t.attrs[a[1]]=a[2]||""}return t}(e);e=o.tag;var u=null!=o.id,i=null!=o.class,s=null!=o.attrs;if(u||i||s){var f=a.attrs||{};if(u&&null==f.id&&(f.id=o.id),i&&(a._class=o.class,f.class=o.class+(null!=f.class?" "+f.class:"")),s)for(var d in o.attrs)null==f[d]&&(f[d]=o.attrs[d]);a.attrs=f}if(a.tag=e,null!=a.attrs){var c=a.attrs;null!=c._key&&(a.key=c._key),null!=c._ref&&(a.ref=c._ref),null!=c._hooks&&(a.hooks=c._hooks),null!=c._data&&(a.data=c._data),null!=c._flags&&(a.flags=c._flags),null==a.key&&(null!=a.ref?a.key=a.ref:null!=c.id?a.key=c.id:null!=c.name&&(a.key=c.name+("radio"===c.type||"checkbox"===c.type?c.value:"")))}return null!=r&&(a.body=r,r instanceof U&&(a.flags=r.flags)),"svg"===a.tag?setTimeout((function(){null==a.ns&&S("SVG_WRONG_FACTORY",[a])}),16):/^(?:input|textarea|select|datalist|output)$/.test(a.tag)&&null==a.key&&S("UNKEYED_INPUT",[a]),a}function U(e,t,n){var r,l=this,o=e.length;l.flags=O,l.items=e,l.length=o,l.key=function(){return null},l.diff={val:function(n,r){return t.val(e[n],r)},eq:function(e,n){return t.eq(n._diff,l.diff.val(e))}},l.tpl=function(t){return r(e[t],t)},l.map=function(e){return r=e,l},l.body=function(e){for(var t=[],n=0;n<o;n++){var r=l.tpl(n);r.type!=a&&(r._diff=l.diff.val(n,e)),t.push(r)}e.body=t,K(e)},null!=n&&(l.flags|=L,l.key=function(t){return n(e[t],t)}),v(t)&&(l.diff={val:function(n){return t(e[n])},eq:function(e,t){return h(t._diff,l.diff.val(e))}})}var Y=function(e){return e},j=s,V=s;var F={};var P=s,G=false,q=s,W=s;function B(e){P=e.onevent||P,null!=e.onvnode&&(W=e.onvnode),null!=e.syncRedraw&&(G=e.syncRedraw),null!=e.didRedraws&&(q=e.didRedraws),e.onemit&&function(e){p(F,e)}(e.onemit),e.stream&&function(e){Y=e.val,j=e.on,V=e.off}(e.stream)}function z(e,t,n,r){if(W(e,t,n,r),e.type!==o&&e.type!==a){e.parent=t,e.idx=n,e.vm=r,null!=e.ref&&function(e,t,n){!function(e,t,n){var r;while(r=t.shift())0===t.length?e[r]=n:e[r]=e=e[r]||{}}(e,("refs."+t).split("."),n)}(x(e),e.ref,e);var l=e.hooks,u=r&&r.hooks;(l&&(l.willRemove||l.didRemove)||u&&(u.willUnmount||u.didUnmount))&&function(e){while(e=e.parent)e.flags|=M}(e),f(e.body)?K(e):""===e.body?e.body=null:(e.body=Y(e.body,x(e)._stream),null==e.body||e.body instanceof U||(e.body=""+e.body))}}function K(e){for(var t=e.body,n=0;n<t.length;n++){var l=t[n];false===l||null==l?t.splice(n--,1):f(l)?(0!==n&&n!==t.length-1||S("ARRAY_FLATTENED",[e,l]),c(t,l,n--,1)):(null==l.type&&(t[n]=l=N(l)),l.type===r?null==l.body||""===l.body?t.splice(n--,1):n>0&&t[n-1].type===r?(S("ADJACENT_TEXT",[e,t[n-1].body,l.body]),t[n-1].body+=l.body,t.splice(n--,1)):z(l,e,n,null):z(l,e,n,null))}}var X={animationIterationCount:true,boxFlex:true,boxFlexGroup:true,boxOrdinalGroup:true,columnCount:true,flex:true,flexGrow:true,flexPositive:true,flexShrink:true,flexNegative:true,flexOrder:true,gridRow:true,gridColumn:true,order:true,lineClamp:true,borderImageOutset:true,borderImageSlice:true,borderImageWidth:true,fontWeight:true,lineHeight:true,opacity:true,orphans:true,tabSize:true,widows:true,zIndex:true,zoom:true,fillOpacity:true,floodOpacity:true,stopOpacity:true,strokeDasharray:true,strokeDashoffset:true,strokeMiterlimit:true,strokeOpacity:true,strokeWidth:true};function $(e,t){return isNaN(t)||X[e]?t:t+"px"}function J(e,t){var n=(e.attrs||i).style,r=t?(t.attrs||i).style:null;if(null==n||function(e){var t=typeof e;return"string"===t||"number"===t}(n))e.el.style.cssText=n;else{for(var l in n){var a=n[l];n[l]=a=Y(a,x(e)._stream),(null==r||null!=a&&a!==r[l])&&(e.el.style[l]=$(l,a))}if(r)for(var o in r)null==n[o]&&(e.el.style[o]="")}}var Z={};function Q(e,t,n,r){e.addEventListener(t.slice(2),n,r)}function ee(e,t,n,r,l){var a,o,u=e.apply(l,t.concat([n,r,l,l.data]));if(a=l.onevent(n,r,l,l.data,t),o=P.call(null,n,r,l,l.data,t),false===u||false===a||false===o)return n.preventDefault(),n.stopPropagation(),false}function te(e){var t=e.target._node;if(null!=t)for(var n=function(e,t){var n,r,l="on"+e,a=[];while(t)(r=t.attrs)&&(n=r[l])&&f(n)&&a.unshift(n),t=t.parent;return a}(e.type,t),r=x(t),l=0;l<n.length;l++){if(false===ee(n[l][0],n[l].slice(1),e,t,r))break}}function ne(e,t,n,r){if(n!=r){v(n)&&v(r)&&r.name==n.name&&S("INLINE_HANDLER",[e,r,n]),null==r||null==n||f(r)==f(n)&&d(r)==d(n)&&v(r)==v(n)||S("MISMATCHED_HANDLER",[e,r,n]);var l=e.el;v(n)?Q(l,t,n,false):null!=n&&function(e){Z[e]||(Z[e]=true,Q(u,e,te,true))}(t),v(r)&&function(e,t,n,r){e.removeEventListener(t.slice(2),n,r)}(l,t,r,false)}}function re(e,t,n){m(t)&&(t=t.substr(1),n=true),n?e.el[t]="":e.el.removeAttribute(t)}function le(e,t,n,r){var l=e.el;null!=e.ns?l.setAttribute(t,n):"class"===t?l.className=n:"id"===t||"boolean"==typeof n||r?l[t]=n:"."===t[0]?l[t.substr(1)]=n:l.setAttribute(t,n)}function ae(e,t){var n=e.attrs||i,r=t.attrs||i;if(n===r)S("REUSED_ATTRS",[e]);else{for(var l in n){var a=n[l];if(null!=a){var o=E(e.tag,l),u=o?e.el[l]:r[l];n[l]=a=Y(a,(x(e)||i)._stream),a===u||(w(l)?J(e,t):b(l)||(g(l)?ne(e,l,a,u):le(e,l,a,o)))}}for(var l in r)null==n[l]&&(g(l)?ne(e,l,n[l],r[l]):b(l)||re(e,l,E(e.tag,l)))}}function oe(e,t,n,r){return e.type===a&&(t=e.data,n=e.key,r=e.opts,e=e.view),new Le(e,t,n,r)}var ue=[];function ie(e,t,n,r,l){if(null!=e){var a=n.hooks[t];if(a){if("d"!==t[0]||"i"!==t[1]||"d"!==t[2])return a(n,r);l?(k(n.parent),a(n,r)):ue.push([a,n,r])}}}function se(e,t){if(ue.length){var n;t&&k(e.node);while(n=ue.shift())n[0](n[1],n[2])}}function fe(e){return e.nextSibling}function de(e,t){if(t){var n=e.vm;null!=n&&(n.node=n.refs=null)}var r=e.body;if(f(r))for(var l=0;l<r.length;l++)de(r[l],true)}function ce(e,t,n){var r=t._node,l=r.vm;if(de(r,true),(r.flags&M)===M)for(var a=0;a<r.body.length;a++)ce(t,r.body[a].el);delete t._node,e.removeChild(t),ie(r.hooks,"didRemove",r,null,n),null!=l&&(ie(l.hooks,"didUnmount",l,l.data,n),l.node=null)}function ve(e,t){var n=t._node;if(!n._dead){var r=function e(t){var n=t.vm,r=null!=n&&ie(n.hooks,"willUnmount",n,n.data),l=ie(t.hooks,"willRemove",t);if((t.flags&M)===M&&f(t.body))for(var a=0;a<t.body.length;a++)e(t.body[a]);return r||l}(n);null!=r&&function(e){return"object"==typeof e&&v(e.then)}(r)?(n._dead=true,r.then(function(e,t,n){return function(){return e.apply(n,t)}}(ce,[e,t,true]))):ce(e,t)}}function pe(e){var t=e.el;if(0==(e.flags&M))de(e,false),t.textContent=null;else{var n=t.firstChild;if(null!=n)do{var r=fe(n);ve(t,n)}while(n=r)}}function ye(e,t,n){var r=t._node,l=null!=t.parentNode,a=t!==n&&l?null:r.vm;null!=a&&ie(a.hooks,"willMount",a,a.data),ie(r.hooks,l?"willReinsert":"willInsert",r),e.insertBefore(t,n),ie(r.hooks,l?"didReinsert":"didInsert",r),null!=a&&ie(a.hooks,"didMount",a,a.data)}function he(e,t,n){ye(e,t,n?fe(n):null)}function me(e){for(var t=0;t<e.body.length;t++){var n=e.body[t],r=n.type;if(r<=l)ye(e.el,ge(n));else if(r===a){r=(u=oe(n.view,n.data,n.key,n.opts)._redraw(e,t,false)).node.type,ye(e.el,ge(u.node))}else if(r===o){var u;(u=n.vm)._update(n.data,e,t,true,true),r=u.node.type,ye(e.el,u.node.el)}}}function ge(e,t){return null==e.el&&(e.type===n?(e.el=t||function(e,t){return null!=t?u.createElementNS(t,e):u.createElement(e)}(e.tag,e.ns),null!=e.attrs&&ae(e,i),(e.flags&O)===O&&e.body.body(e),f(e.body)?me(e):null!=e.body&&(e.el.textContent=e.body)):e.type===r?e.el=t||function(e){return u.createTextNode(e)}(e.body):e.type===l&&(e.el=t||function(e){return u.createComment(e)}(e.body))),e.el._node=e,e.el}var be=1,we=2;function ke(e,t,n,r,l,a,o,u){return function(i,s,f,d,c,v){var p,y;if(null!=d[r]){if(null==(p=d[r]._node))return S("FOREIGN_ELEMENT",[d[r]]),void(d[r]=e(d[r]));if(function(e){return e.parent}(p)!==i)return y=e(d[r]),null!=p.vm?p.vm.unmount(true):ve(s,d[r]),void(d[r]=y)}if(d[l]==c)return we;if(null==d[l].el)n(s,ge(d[l]),d[r]),d[l]=t(d[l],f);else if(d[l].el===d[r])d[l]=t(d[l],f),d[r]=e(d[r]);else{if(v||p!==d[o])return null!=d[l].vm&&S("ALREADY_HYDRATED",[d[l].vm]),v&&null!=d[r]?function(e,t,n,r,l,a,o,u,i){if(u._lis)n(a,i[l].el,i[r]),i[l]=t(i[l],o);else{var s=function(e,t){var n,r=0,l=t.length-1;if(l<=2147483647)while(r<=l){if(t[n=r+l>>1]===e)return n;t[n]<e?r=n+1:l=n-1}else while(r<=l){if(t[n=Math.floor((r+l)/2)]===e)return n;t[n]<e?r=n+1:l=n-1}return r==t.length?null:r}(u.idx,i.tombs);u._lis=true;var f=e(i[r]);n(a,i[r],null!=s?o[i.tombs[s]].el:s),null==s?i.tombs.push(u.idx):i.tombs.splice(s,0,u.idx),i[r]=f}}(e,t,n,r,l,s,f,p,d):be;y=d[r],d[r]=e(y),u(s,y,d[a]),d[a]=y}}}var _e=ke(fe,(function(e,t){return t[e.idx+1]}),ye,"lftSib","lftNode","rgtSib","rgtNode",he),Ee=ke((function(e){return e.previousSibling}),(function(e,t){return t[e.idx-1]}),he,"rgtSib","rgtNode","lftSib","lftNode",ye);function xe(e,t,n,r){var l=[],a=t.firstChild;do{var o=a._node;o.parent===e&&l.push(o.idx)}while(a=fe(a));for(var u=function(e){var t=e.slice(),n=[];n[0]=0;for(var r,l,a,o=0,u=0;u<e.length;++u){var i=e[u];if(e[a=n[o]]<i)t[u]=a,n[++o]=u;else{r=0,l=o;while(r<l)e[n[a=r+l>>1]]<i?r=a+1:l=a;i<e[n[r]]&&(r>0&&(t[u]=n[r-1]),n[r]=u)}}l=n[o];while(o>=0)n[o--]=l,l=t[l];return n}(l).map((function(e){return l[e]})),i=0;i<u.length;i++)n[u[i]]._lis=true;r.tombs=u;while(1){if(_e(e,t,n,r,null,true)===we)break}}function Te(e){return e.el._node.parent!==e.parent}function Ae(e,t,n){return t[n]}function Ne(e,t,n){for(;n<t.length;n++){var r=t[n];if(null!=r.vm){if(e.type===a&&r.vm.view===e.view&&r.vm.key===e.key||e.type===o&&r.vm===e.vm)return r}else if(!Te(r)&&e.tag===r.tag&&e.type===r.type&&e.key===r.key&&(e.flags&~M)==(r.flags&~M))return r}return null}function De(e,t,n){if(null==t._keys){if(t[n].key===e.key)return t[n];for(var r={},l=0;l<t.length;l++)r[t[l].key]=l;t._keys=r}return t[t._keys[e.key]]}function Re(e,t){ie(t.hooks,"willRecycle",t,e);var u=e.el=t.el,d=t.body,c=e.body;if(u._node=e,e.type!==r||c===d){null==e.attrs&&null==t.attrs||ae(e,t);var v=f(d),p=f(c),y=(e.flags&O)===O;v?p||y?function(e,t){var r=e.body,u=r.length,f=t.body,d=f.length,c=(e.flags&O)===O,v=(e.flags&I)===I,p=(e.flags&L)===L,y=!v&&e.type===n,h=true,m=0===d?s:p?De:v||c?Ae:Ne;if(y&&0===u)return pe(t),void(c&&(e.body=[]));var g,b,w=0,k=false,E=0;if(c)var x={key:null},T=e.body=Array(u);for(var A=0;A<u;A++){if(c){var N=false;h&&(p&&(x.key=r.key(A)),g=m(x,f,E)),null!=g?(b=g.idx,r.diff.eq(A,g)?((D=g).parent=e,D.idx=A,D._lis=false):N=true):N=true,N&&((D=r.tpl(A)).type===a?D=null!=g?g.vm._update(D.data,e,A,true,true).node:oe(D.view,D.data,D.key,D.opts)._redraw(e,A,false).node:(z(D,e,A),D._diff=r.diff.val(A,e),null!=g&&Re(D,g))),T[A]=D}else{var D,R=(D=r[A]).type;if(R<=l)(g=h&&m(D,f,E))&&(Re(D,g),b=g.idx);else if(R===a)(g=h&&m(D,f,E))?(b=g.idx,g.vm._update(D.data,e,A,true,true)):oe(D.view,D.data,D.key,D.opts)._redraw(e,A,false);else if(R===o){var C=D.vm,S=_(C);S&&C.node.parent!=t&&(C.unmount(true),S=false),C._update(D.data,e,A,S,true)}}if(null!=g&&(b===E?++E===d&&u>d&&(g=null,h=false):k=true,!p&&d>100&&k&&++w%10==0))while(E<d&&Te(f[E]))E++}y&&function(e,t){var n=t.body,r=e.el,l=e.body,a={lftNode:l[0],rgtNode:l[l.length-1],lftSib:(n[0]||i).el,rgtSib:(n[n.length-1]||i).el};e:while(1){while(1){var o=_e(e,r,l,a,null,false);if(o===be)break;if(o===we)break e}while(1){var u=Ee(e,r,l,a,a.lftNode,false);if(u===be)break;if(u===we)break e}xe(e,r,l,a);break}}(e,t)}(e,t):c!==d&&(null!=c?u.textContent=c:pe(t)):p?(pe(t),me(e)):c!==d&&(null!=c&&null!=d?u.firstChild.nodeValue=c:u.textContent=c),ie(t.hooks,"didRecycle",t,e)}else u.nodeValue=c}var Ce=new Set,Se=0;function Me(){Ce.forEach((function(e){if(null!=e.node){var t=e;while(t=t.parent())if(Ce.has(t))return;e.redraw(true)}})),q(Ce),Ce.clear(),Se=0}var Ie=null;function Le(e,t,n,r){var l=this;l.view=e,l.data=t,l.key=n,r&&(l.opts=r,l.cfg(r));var a=d(e)?e:e.call(l,l,t,n,r);v(a)?l.render=a:(l.render=a.render,l.cfg(a)),l.init&&l.init.call(l,l,l.data,l.key,r)}function Oe(e,t,n){return h(t,n)}function He(e){var t=this;e.init&&(t.init=e.init),e.diff&&(v(e.diff)?t.diff={val:e.diff,eq:Oe}:t.diff=e.diff),e.onevent&&(t.onevent=e.onevent),e.hooks&&(t.hooks=p(t.hooks||{},e.hooks)),e.onemit&&(t.onemit=p(t.onemit||{},e.onemit))}C.mutations&&(Ie=new function(e){navigator.userAgent.indexOf("Edge");var t=-1!==navigator.userAgent.indexOf("Trident/"),n=Object.getOwnPropertyDescriptor,r=Object.defineProperty,l=Node.prototype,a=n(l,"textContent"),o=n(l,"nodeValue"),u=HTMLElement.prototype,i=n(u,"innerText"),s=Element.prototype,f=n(t?u:s,"innerHTML"),d=n(t?u:s,"className"),c=n(t?u:s,"id"),v=CSSStyleDeclaration.prototype,p=n(v,"cssText"),y=HTMLInputElement.prototype,h=HTMLTextAreaElement.prototype,m=HTMLSelectElement.prototype,g=HTMLOptionElement.prototype,b=n(y,"checked"),w=n(y,"value"),k=n(h,"value"),_=n(m,"value"),E=n(m,"selectedIndex"),x=n(g,"selected"),T={"document.createElement":null,"document.createElementNS":null,"document.createTextNode":null,"document.createComment":null,"document.createDocumentFragment":null,"DocumentFragment.prototype.insertBefore":null,"Element.prototype.appendChild":null,"Element.prototype.removeChild":null,"Element.prototype.insertBefore":null,"Element.prototype.replaceChild":null,"Element.prototype.remove":null,"Element.prototype.setAttribute":null,"Element.prototype.setAttributeNS":null,"Element.prototype.removeAttribute":null,"Element.prototype.removeAttributeNS":null},A={},N=null;function D(e){var t=e.split("."),n=window;while(t.length>1)n=n[t.shift()];return{ctx:n,last:t[0]}}for(var R in T){var C=D(R);null===T[R]&&(T[R]=C.ctx[C.last]),function(e,t){A[t]=0,C.ctx[t]=function(){return A[t]++,T[e].apply(this,arguments)}}(R,C.last)}A.textContent=0,r(l,"textContent",{set:function(e){A.textContent++,a.set.call(this,e)}}),A.nodeValue=0,r(l,"nodeValue",{set:function(e){A.nodeValue++,o.set.call(this,e)}}),A.innerText=0,r(u,"innerText",{set:function(e){A.innerText++,i.set.call(this,e)}}),A.innerHTML=0,r(t?u:s,"innerHTML",{set:function(e){A.innerHTML++,f.set.call(this,e)}}),A.className=0,r(t?u:s,"className",{set:function(e){A.className++,d.set.call(this,e)}}),A.cssText=0,r(v,"cssText",{set:function(e){A.cssText++,p.set.call(this,e)}}),A.id=0,r(t?u:s,"id",{set:function(e){A.id++,c.set.call(this,e)}}),A.checked=0,r(y,"checked",{set:function(e){A.checked++,b.set.call(this,e)}}),A.value=0,r(y,"value",{set:function(e){A.value++,w.set.call(this,e)}}),r(h,"value",{set:function(e){A.value++,k.set.call(this,e)}}),r(m,"value",{set:function(e){A.value++,_.set.call(this,e)}}),A.selectedIndex=0,r(m,"selectedIndex",{set:function(e){A.selectedIndex++,E.set.call(this,e)}}),A.selected=0,r(g,"selected",{set:function(e){A.selected++,x.set.call(this,e)}}),this.start=function(){N=+new Date},this.end=function(){var t=+new Date-N;N=null;var n={};for(var r in A)A[r]>0&&(n[r]=A[r]);return function(){for(var e in A)A[e]=0}(),e&&(n._time=t),n}}(true));var Ue=Le.prototype={constructor:Le,init:null,view:null,key:null,data:null,state:null,api:null,opts:null,node:null,hooks:null,refs:null,render:null,mount:function(e,t){var n=this;C.mutations&&Ie.start();t?(pe({el:e,flags:0}),n._redraw(null,null,false),e.nodeName.toLowerCase()!==n.node.tag?(ge(n.node),ye(e.parentNode,n.node.el,e),e.parentNode.removeChild(e)):ye(e.parentNode,ge(n.node,e),e)):(n._redraw(null,null),e&&ye(e,n.node.el));e&&se(n,true);C.mutations&&console.log(Ie.end());return n},unmount:function(e){V(this._stream),this._stream=null;var t=this.node;ve(t.el.parentNode,t.el),t.el=null,e||se(this,true)},cfg:He,config:He,parent:function(){return x(this.node.parent)},root:function(){var e=this.node;while(e.parent)e=e.parent;return e.vm},redraw:function(e){return null==e&&(e=G),e?this._redraw(null,null,_(this)):(Ce.add(this),0===Se&&(Se=requestAnimationFrame(Me))),this},update:function(e,t){return null==t&&(t=G),this._update(e,null,null,_(this),t),t||this.redraw(),this},_update:function(e,t,n,r,l){var a=this;null!=e&&a.data!==e&&(S("DATA_REPLACED",[a,a.data,e]),ie(a.hooks,"willUpdate",a,e),a.data=e);return l?a._redraw(t,n,r):a},_redraw:function(e,t,n){var r=null==e,l=this,a=l.node&&l.node.el&&l.node.el.parentNode;r&&l.node&&l.node.el&&!l.node.el.parentNode&&S("UNMOUNTED_REDRAW",[l]);r&&C.mutations&&a&&Ie.start();var o,u,i=null!=l.diff,s=l.node;null!=s&&r&&(e=s.parent,t=s.idx);if(i&&(u=l.diff.val(l,l.data,l.key,e,t),null!=s&&(o=s._diff,l.diff.eq(l,o,u))))return s._diff=u,Ye(l,s,e,t);a&&ie(l.hooks,"willRedraw",l,l.data);var f=l.render.call(l,l,l.data,l.key,e,t);i&&(f._diff=u);if(f===s)return Ye(l,s,e,t);l.refs=null,null!=l.key&&f.key!==l.key&&(f.key=l.key);l.node=f,l._stream=[],e?(z(f,e,t,l),e.body[t]=f):s&&s.parent?(z(f,s.parent,s.idx,l),s.parent.body[s.idx]=f):z(f,null,null,l);if(false!==n)if(s)if(s.tag!==f.tag||s.key!==f.key){s.vm=f.vm=null;var d=s.el.parentNode,c=fe(s.el);ve(d,s.el),ye(d,ge(f),c),s.el=f.el,f.vm=l}else Re(f,s);else ge(f);Y(l.data,l._stream),l._stream=j(l._stream,l),a&&ie(l.hooks,"didRedraw",l,l.data),r&&a&&se(l,true);r&&C.mutations&&a&&console.log(Ie.end());return l}};function Ye(e,t,n,r){return null!=n&&(n.body[r]=t,t.idx=r,t.parent=n,t._lis=false),e}function je(e,t,n,r){var l,a;return null==n?d(t)?l=t:a=t:(l=t,a=n),H(e,l,a,r)}Ue.onevent=s;var Ve="http://www.w3.org/2000/svg";function Fe(e,t,n,r){this.view=e,this.data=t,this.key=n,this.opts=r}function Pe(e,t){this.vm=e,this.data=t}function Ge(e){var t,n,r=arguments,l=r.length;if(l>1){var a=1;d(r[1])&&(n=r[1],a=2),t=l!==a+1||r[a]instanceof T||r[a]instanceof Fe||r[a]instanceof Pe?y(r,a):r[a]}return H(e,n,t)}function qe(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function We(e){var t="";for(var n in e)null!=e[n]&&(t+=qe(n)+": "+$(n,e[n])+"; ");return t}function Be(e){return null==e?"":""+e}Fe.prototype={constructor:Fe,type:a,view:null,data:null,key:null,opts:null},Pe.prototype={constructor:Pe,type:o,vm:null,data:null},A.patch=function(e,t){!function(e,t,n){if(d(t)){var r=Object.create(e);r.attrs=p({},e.attrs),null!=t.class&&null!=e._class&&(t.class=e._class+" "+t.class);p(e.attrs,t);ae(e,r),n&&k(e)}else{if(null!=e.vm)return;z(t,e.parent,e.idx,null),e.parent.body[e.idx]=t,Re(t,e),n&&k(t),se(x(t),false)}}(this,e,t)},Ue.emit=function(e){var t=this,n=t,r=y(arguments,1).concat(n,n.data);do{var l=t.onemit,a=l?l[e]:null;if(a){a.apply(t,r);break}}while(t=t.parent());F[e]&&F[e].apply(t,r)},Ue.onemit=null,Ue.body=function(){return function e(t,n){var r=t.body;if(f(r))for(var l=0;l<r.length;l++){var a=r[l];null!=a.vm?n.push(a.vm):e(a,n)}return n}(this.node,[])},Ue._stream=null;var ze={area:true,base:true,br:true,col:true,command:true,embed:true,hr:true,img:true,input:true,keygen:true,link:true,meta:true,param:true,source:true,track:true,wbr:true};function Ke(e){e=Be(e);for(var t=0,n="";t<e.length;t++)switch(e[t]){case"&":n+="&amp;";break;case"<":n+="&lt;";break;case">":n+="&gt;";break;default:n+=e[t]}return n}function Xe(e){e=Be(e);for(var t=0,n="";t<e.length;t++)n+='"'===e[t]?"&quot;":e[t];return n}function $e(e,t,n){for(var r="",l=0;l<e.length;l++)r+=Ze(e[l],t,n,l);return r}var Je=".innerHTML";function Ze(e,u,i,s){var d,c;switch(e.type){case a:d=oe(e.view,e.data,e.key,e.opts).html(u,i,s);break;case o:d=e.vm.html(u,i,s);break;case n:case t:if(null!=e.el&&null==e.tag){d=e.el.outerHTML;break}var v="";v+="<"+e.tag;var p=e.attrs,y=null!=p;if(y){for(var h in p)if(!(g(h)||m(h)||b(h)||false===u&&E(e.tag,h))){var w=p[h];"style"!==h||null==w?true===w?v+=" "+Ke(h):false===w||null!=w&&(v+=" "+Ke(h)+'="'+Xe(w)+'"'):c="object"==typeof w?We(w):w}null!=c&&(v+=' style="'+Xe(c.trim())+'"')}if(null==e.body&&null!=e.ns&&"svg"!==e.tag)return v+"/>";v+=">",ze[e.tag]||(y&&null!=p[Je]?v+=p[Je]:f(e.body)?v+=$e(e.body,u,e):(e.flags&O)===O?(e.body.body(e),v+=$e(e.body,u,e)):v+=Ke(e.body),v+="</"+e.tag+">"),d=v;break;case r:d=Ke(e.body);break;case l:d="\x3c!--"+Ke(e.body)+"--\x3e"}return d}Ue.attach=function(e){var t=this;return null==t.node&&t._redraw(null,null,false),function e(t,n){t.el=n;n._node=t;var r=t.attrs;for(var l in r){var u=r[l],i=E(t.tag,l);w(l)||b(l)||(g(l)?ne(t,l,u):null!=u&&i&&le(t,l,u,i))}(t.flags&O)===O&&t.body.body(t);if(f(t.body)&&t.body.length>0){var s=n.firstChild,d=0,c=t.body[d];do{c.type===a?c=oe(c.view,c.data,c.key,c.opts)._redraw(t,d,false).node:c.type===o&&(c=c.vm.node||c.vm._update(c.data,t,d,false,true).node),"table"===t.tag&&"tr"===c.tag&&S("ATTACH_IMPLICIT_TBODY",[t,c]),e(c,s)}while((s=s.nextSibling)&&(c=t.body[++d]));var v=t.vm;null!=v&&ie(v.hooks,"willMount",v,v.data),ie(t.hooks,"willInsert",t),ie(t.hooks,"didInsert",t),null!=v&&ie(v.hooks,"didMount",v,v.data)}}(t.node,e),se(t,false),t},Ue.html=function(e,t,n){null==this.node&&this._redraw(t,n,false);var r=Ze(this.node,e,t,n);return ue.length=0,r},A.html=function(e,t,n){return Ze(this,e,t,n)},e.DEVMODE=C,e.FIXED_BODY=I,e.KEYED_LIST=L,e.VNode=T,e.ViewModel=Le,e.cfg=B,e.config=B,e.createView=oe,e.defineComment=function(e){var t=new T;return t.type=l,t.body=e,t},e.defineElement=je,e.defineElementSpread=Ge,e.defineSvgElement=function(e,t,n,r){var l=je(e,t,n,r);return l.ns=Ve,l},e.defineSvgElementSpread=function(){var e=Ge.apply(null,arguments);return e.ns=Ve,e},e.defineText=N,e.defineView=function(e,t,n,r){return new Fe(e,t,n,r)},e.injectElement=function(e){var n=new T;return n.type=t,n.el=n.key=e,n},e.injectView=function(e,t){return new Pe(e,t)},e.list=function(e,t,n){return new U(e,t,n)}}));